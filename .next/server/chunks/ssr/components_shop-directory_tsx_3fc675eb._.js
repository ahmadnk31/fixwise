module.exports=[64697,a=>{"use strict";var b=a.i(96974),c=a.i(16590),d=a.i(3130),e=a.i(40695),f=a.i(54161),g=a.i(5522),h=a.i(19113),i=a.i(75407),j=a.i(26345),k=a.i(47878),l=a.i(7085);let m=(0,a.i(61237).default)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);var n=a.i(84435),o=a.i(12582),p=a.i(19260),q=a.i(32267),r=a.i(93735);function s({shops:a,selectedShop:f,hoveredShop:g,onSelectShop:i,userLocation:j}){let k=(0,c.useRef)(null),l=(0,c.useRef)(null),o=(0,c.useRef)([]),p=(0,c.useRef)(null),s=(0,c.useRef)(null),t=(0,c.useRef)(null),u=(0,c.useRef)(!1),[v,w]=(0,c.useState)(!0),[x,y]=(0,c.useState)(!1),{isLoaded:z,error:A}=(0,r.useGoogleMaps)();(0,c.useEffect)(()=>{z&&window.google?.maps&&!u.current?(B(),u.current=!0):A&&w(!1)},[z,A]),(0,c.useEffect)(()=>{l.current&&a.length>0&&F()},[a,g]),(0,c.useEffect)(()=>{let a=f||g;a&&j&&l.current?D(a):E()},[f,g,j]),(0,c.useEffect)(()=>{j&&l.current&&window.google&&C()},[j]),(0,c.useEffect)(()=>{let a=()=>{l.current&&window.google&&setTimeout(()=>{window.google.maps.event.trigger(l.current,"resize")},100)};return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);let B=()=>{if(!k.current||!window.google)return;let b=a.find(a=>a.latitude&&a.longitude),c=j||(b?{lat:b.latitude,lng:b.longitude}:{lat:37.7749,lng:-122.4194});l.current=new window.google.maps.Map(k.current,{center:c,zoom:12,styles:[{featureType:"all",elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#1A2332"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"administrative",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#e8e8e8"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#d4e7f5"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#7891a3"}]}],disableDefaultUI:!0,zoomControl:!0,zoomControlOptions:{position:window.google.maps.ControlPosition.RIGHT_CENTER},gestureHandling:"greedy",clickableIcons:!1}),p.current=new window.google.maps.DirectionsService,s.current=new window.google.maps.DirectionsRenderer({map:l.current,suppressMarkers:!0,polylineOptions:{strokeColor:"#1A2332",strokeWeight:5,strokeOpacity:.8}}),F(),j&&C(),setTimeout(()=>{l.current&&window.google&&window.google.maps.event.trigger(l.current,"resize")},100),w(!1)},C=()=>{l.current&&window.google&&j&&(t.current&&t.current.setMap(null),t.current=new window.google.maps.Marker({position:j,map:l.current,title:"Your Location",icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:12,fillColor:"#1A2332",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:4},animation:window.google.maps.Animation.DROP,zIndex:1e3}))},D=a=>{let b=a||f||g;if(!b?.latitude||!b?.longitude||!j||!p.current||!s.current)return;let c={origin:j,destination:{lat:b.latitude,lng:b.longitude},travelMode:window.google.maps.TravelMode.DRIVING};p.current.route(c,(a,b)=>{b===window.google.maps.DirectionsStatus.OK?(s.current.setDirections(a),y(!0)):console.error("Directions request failed:",b)})},E=()=>{s.current&&(s.current.setDirections({routes:[]}),y(!1))},F=()=>{if(!l.current||!window.google)return;o.current.forEach(a=>a.setMap(null)),o.current=[];let b=new window.google.maps.LatLngBounds,c=!1;if(j&&(b.extend(j),c=!0),a.forEach(a=>{if(!a.latitude||!a.longitude)return;let d={lat:a.latitude,lng:a.longitude},e=f?.id===a.id,h=g?.id===a.id,j="#3d4b5f",k=40,m=50,n=1;e?(j="#1A2332",k=48,m=60,n=999):h&&(j="#2563eb",k=44,m=55,n=500);let p=new window.google.maps.Marker({position:d,map:l.current,title:a.name,icon:{url:`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(`
            <svg width="${k}" height="${m}" viewBox="0 0 40 50" xmlns="http://www.w3.org/2000/svg">
              <g filter="url(#shadow)">
                <path d="M20 0C11.716 0 5 6.716 5 15c0 8.284 15 35 15 35s15-26.716 15-35c0-8.284-6.716-15-15-15z" 
                      fill="${j}" />
                <circle cx="20" cy="15" r="6" fill="white" />
                <path d="M20 11 L22 15 L18 15 Z M20 19 L18 15 L22 15 Z" fill="${j}" />
              </g>
              <defs>
                <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
                  <feDropShadow dx="0" dy="2" stdDeviation="3" floodOpacity="0.3"/>
                </filter>
              </defs>
            </svg>
          `)}`,scaledSize:new window.google.maps.Size(k,m),anchor:new window.google.maps.Point(k/2,m)},animation:h?window.google.maps.Animation.BOUNCE:null,zIndex:n});p.shopId=a.id,p.addListener("click",()=>{i(a),l.current.panTo(d)});let q=new window.google.maps.InfoWindow({content:`
          <div style="padding: 12px; max-width: 240px; font-family: system-ui, -apple-system, sans-serif;">
            <h3 style="margin: 0 0 8px 0; font-weight: 600; font-size: 16px; color: #1A2332;">${a.name}</h3>
            <p style="margin: 0 0 6px 0; font-size: 13px; color: #6b7280; line-height: 1.4;">${a.address}</p>
            <div style="display: flex; flex-wrap: wrap; gap: 4px; margin-top: 8px;">
              ${a.expertise.map(a=>`<span style="background: #e8eef5; color: #1A2332; padding: 2px 8px; border-radius: 12px; font-size: 11px; font-weight: 500;">${a}</span>`).join("")}
            </div>
            ${a.distance?`<p style="margin: 8px 0 0 0; font-size: 12px; color: #1A2332; font-weight: 600;">üìç ${a.distance.toFixed(1)} km away</p>`:""}
          </div>
        `});p.addListener("mouseenter",()=>{q.open(l.current,p)}),p.addListener("mouseleave",()=>{e||q.close()}),o.current.push(p),b.extend(d),c=!0}),o.current.forEach(a=>{let b=a.shopId;g&&b===g.id?a.setAnimation(window.google.maps.Animation.BOUNCE):a.setAnimation(null)}),g&&l.current&&window.google){let b=a.find(a=>a.id===g.id);b?.latitude&&b?.longitude&&l.current.panTo({lat:b.latitude,lng:b.longitude})}!c||!l.current||x||g||f||l.current.fitBounds(b,{padding:60})};return A?(0,b.jsx)(d.Card,{className:"h-full",children:(0,b.jsx)(d.CardContent,{className:"flex h-full items-center justify-center p-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(h.MapPin,{className:"mx-auto mb-4 h-12 w-12 text-muted-foreground"}),(0,b.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"Map Unavailable"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:A}),(0,b.jsx)("p",{className:"mt-4 text-xs text-muted-foreground",children:"Please check your Maps configuration in environment variables"})]})})}):(0,b.jsx)(d.Card,{className:"h-full overflow-hidden py-0",children:(0,b.jsxs)(d.CardContent,{className:"relative h-full p-0",children:[v&&(0,b.jsx)("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(n.Loader2,{className:"mx-auto h-8 w-8 animate-spin text-primary"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading map..."})]})}),x&&(f||g)&&(0,b.jsx)("div",{className:"absolute left-4 top-4 z-10 rounded-xl bg-background/95 p-4 shadow-xl backdrop-blur-md",children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"rounded-full bg-primary/10 p-2",children:(0,b.jsx)(m,{className:"h-5 w-5 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:f?"Directions to":"Hovering over"}),(0,b.jsx)("p",{className:"font-semibold text-foreground",children:(f||g)?.name})]})]}),f&&(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>i(null),children:(0,b.jsx)(q.X,{className:"h-4 w-4"})})]})}),(0,b.jsx)("div",{ref:k,className:"h-full w-full"})]})})}function t(a){return Math.PI/180*a}var u=a.i(65602),v=a.i(55005),w=a.i(37382),x=a.i(69240),y=a.i(89130),z=a.i(11374),A=a.i(93289),B=a.i(51508),C=a.i(29457);function D({variant:a="default",showBackButton:d=!1,onBack:f}){let{t:g}=(0,C.useI18n)(),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(!1),r=(0,c.useRef)(null),s=(0,c.useRef)(null);(0,c.useEffect)(()=>{let a=a=>{let b=a.target;s.current?.contains(b)||r.current?.contains(b)||o(!1)};return n&&setTimeout(()=>{document.addEventListener("mousedown",a)},0),()=>{document.removeEventListener("mousedown",a)}},[n]),(0,c.useEffect)(()=>{(async()=>{let a=(0,x.createClient)(),{data:{user:b}}=await a.auth.getUser();if(i(b),b){let{data:c}=await a.from("repair_shops").select("id").eq("owner_id",b.id).maybeSingle();m(!!c)}k(!1)})();let a=(0,x.createClient)(),{data:{subscription:b}}=a.auth.onAuthStateChange(async(b,c)=>{if(i(c?.user??null),c?.user){let{data:b}=await a.from("repair_shops").select("id").eq("owner_id",c.user.id).maybeSingle();m(!!b)}else m(!1)});return()=>{b.unsubscribe()}},[]);let t=!!h;return"minimal"===a?(0,b.jsxs)("header",{className:"absolute top-0 w-full z-40",children:[(0,b.jsxs)("div",{className:"container mx-auto flex h-16 items-center justify-between px-3 sm:px-4",children:[(0,b.jsx)(p.default,{href:"/",className:"flex items-center gap-2 flex-shrink-0",children:(0,b.jsx)(w.default,{src:"/logo.png",alt:"FixWise Logo",width:180,height:60,className:"h-10 w-auto sm:h-12"})}),(0,b.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,b.jsx)(B.LanguageSwitcher,{}),(0,b.jsxs)("nav",{className:"hidden md:flex items-center gap-2",children:[(0,b.jsx)(p.default,{href:"/shops",children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",children:g.nav.shops})}),!j&&(t?(0,b.jsxs)(b.Fragment,{children:[l&&(0,b.jsx)(p.default,{href:"/shop/dashboard",children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",children:g.nav.dashboard})}),(0,b.jsx)(p.default,{href:"/user/diagnosis-history",children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",children:g.nav.history})}),(0,b.jsx)(y.LogoutButton,{})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.default,{href:"/auth/login",children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",children:g.nav.login})}),(0,b.jsx)(p.default,{href:"/auth/sign-up",children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",children:g.nav.signUp})})]}))]}),(0,b.jsx)(e.Button,{ref:s,variant:"ghost",size:"icon",className:"md:hidden",onClick:a=>{a.stopPropagation(),o(!n)},"aria-label":n?"Close menu":"Open menu",children:n?(0,b.jsx)(q.X,{className:"h-5 w-5"}):(0,b.jsx)(A.Menu,{className:"h-5 w-5"})})]})]}),n&&(0,b.jsx)("div",{ref:r,className:"absolute top-16 left-0 right-0 bg-background border-b shadow-lg md:hidden z-50",children:(0,b.jsxs)("nav",{className:"container mx-auto px-4 py-4 flex flex-col gap-2",children:[(0,b.jsx)(p.default,{href:"/shops",onClick:()=>o(!1),children:(0,b.jsx)(e.Button,{variant:"ghost",className:"w-full justify-start",children:g.nav.shops})}),!j&&(t?(0,b.jsxs)(b.Fragment,{children:[l&&(0,b.jsx)(p.default,{href:"/shop/dashboard",onClick:()=>o(!1),children:(0,b.jsx)(e.Button,{variant:"ghost",className:"w-full justify-start",children:g.nav.dashboard})}),(0,b.jsx)(p.default,{href:"/user/diagnosis-history",onClick:()=>o(!1),children:(0,b.jsx)(e.Button,{variant:"ghost",className:"w-full justify-start",children:g.nav.history})}),(0,b.jsx)("div",{className:"pt-2 border-t",children:(0,b.jsx)(y.LogoutButton,{variant:"full"})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.default,{href:"/auth/login",onClick:()=>o(!1),children:(0,b.jsx)(e.Button,{variant:"ghost",className:"w-full justify-start",children:g.nav.login})}),(0,b.jsx)(p.default,{href:"/auth/sign-up",onClick:()=>o(!1),children:(0,b.jsx)(e.Button,{variant:"outline",className:"w-full justify-start",children:g.nav.signUp})})]}))]})})]}):(0,b.jsxs)("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 relative z-40",children:[(0,b.jsxs)("div",{className:"container mx-auto flex h-16 items-center justify-between px-3 sm:px-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4",children:[d&&f&&(0,b.jsxs)(e.Button,{variant:"ghost",size:"sm",onClick:f,className:"gap-2 hidden sm:flex",children:[(0,b.jsx)(z.ArrowLeft,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden md:inline",children:g.common.back})]}),(0,b.jsx)(p.default,{href:"/",className:"flex items-center gap-2 flex-shrink-0",children:(0,b.jsx)(w.default,{src:"/logo.png",alt:"FixWise Logo",width:180,height:60,className:"h-10 w-auto sm:h-12"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2 lg:gap-4",children:[(0,b.jsx)(B.LanguageSwitcher,{}),(0,b.jsxs)("nav",{className:"hidden lg:flex items-center gap-2",children:[(0,b.jsx)(p.default,{href:"/",children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",children:g.nav.home})}),(0,b.jsx)(p.default,{href:"/shops",children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",children:g.nav.shops})}),!j&&(t?(0,b.jsxs)(b.Fragment,{children:[l&&(0,b.jsx)(p.default,{href:"/shop/dashboard",children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",children:g.nav.dashboard})}),(0,b.jsx)(p.default,{href:"/user/diagnosis-history",children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",children:g.nav.history})}),(0,b.jsx)(y.LogoutButton,{})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.default,{href:"/auth/login",children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",children:g.nav.login})}),(0,b.jsx)(p.default,{href:"/auth/sign-up",children:(0,b.jsx)(e.Button,{variant:"outline",size:"sm",children:g.nav.signUp})})]}))]}),(0,b.jsx)(e.Button,{ref:s,variant:"ghost",size:"icon",className:"lg:hidden",onClick:a=>{a.stopPropagation(),o(!n)},"aria-label":n?"Close menu":"Open menu",children:n?(0,b.jsx)(q.X,{className:"h-5 w-5"}):(0,b.jsx)(A.Menu,{className:"h-5 w-5"})})]})]}),n&&(0,b.jsx)("div",{ref:r,className:"absolute top-16 left-0 right-0 bg-background border-b shadow-lg lg:hidden z-50",children:(0,b.jsxs)("nav",{className:"container mx-auto px-4 py-4 flex flex-col gap-2",children:[(0,b.jsx)(p.default,{href:"/",onClick:()=>o(!1),children:(0,b.jsx)(e.Button,{variant:"ghost",className:"w-full justify-start",children:g.nav.home})}),(0,b.jsx)(p.default,{href:"/shops",onClick:()=>o(!1),children:(0,b.jsx)(e.Button,{variant:"ghost",className:"w-full justify-start",children:g.nav.shops})}),!j&&(t?(0,b.jsxs)(b.Fragment,{children:[l&&(0,b.jsx)(p.default,{href:"/shop/dashboard",onClick:()=>o(!1),children:(0,b.jsx)(e.Button,{variant:"ghost",className:"w-full justify-start",children:g.nav.dashboard})}),(0,b.jsx)(p.default,{href:"/user/diagnosis-history",onClick:()=>o(!1),children:(0,b.jsx)(e.Button,{variant:"ghost",className:"w-full justify-start",children:g.nav.history})}),(0,b.jsx)("div",{className:"pt-2 border-t",children:(0,b.jsx)(y.LogoutButton,{})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.default,{href:"/auth/login",onClick:()=>o(!1),children:(0,b.jsx)(e.Button,{variant:"ghost",className:"w-full justify-start",children:g.nav.login})}),(0,b.jsx)(p.default,{href:"/auth/sign-up",onClick:()=>o(!1),children:(0,b.jsx)(e.Button,{variant:"outline",className:"w-full justify-start",children:g.nav.signUp})})]}))]})})]})}function E({shops:a,diagnosis:q,repairComponent:r}){let{t:w}=(0,C.useI18n)(),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(null),[B,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(a),L=(0,v.useRouter)();(0,c.useEffect)(()=>{M()},[]),(0,c.useEffect)(()=>{if(F){let b=a.map(a=>{if(a.latitude&&a.longitude){var b,c,d,e;let f,g,h,i=(b=F.lat,c=F.lng,d=a.latitude,e=a.longitude,f=t(d-b),g=t(e-c),6371*(2*Math.atan2(Math.sqrt(h=Math.sin(f/2)*Math.sin(f/2)+Math.cos(t(b))*Math.cos(t(d))*Math.sin(g/2)*Math.sin(g/2)),Math.sqrt(1-h))));return{...a,distance:i}}return a});b.sort((a,b)=>void 0===a.distance?1:void 0===b.distance?-1:a.distance-b.distance),K(b)}else K(a)},[F,a]);let M=()=>{navigator.geolocation?(I(!0),navigator.geolocation.getCurrentPosition(a=>{G({lat:a.coords.latitude,lng:a.coords.longitude}),I(!1)},a=>{console.error("Error getting location:",a),I(!1)})):alert(w.shops.locationNotSupported)},N=J.filter(a=>{let b=x.toLowerCase();return a.name.toLowerCase().includes(b)||a.address.toLowerCase().includes(b)||a.expertise.some(a=>a.toLowerCase().includes(b))}),O=async a=>{if(!q)return void alert(w.shops.completeDiagnosisFirst);console.log("[v0] Contacting shop - diagnosis:",q.id,"shop:",a);try{let b=await fetch("/api/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({diagnosisId:q.id,shopId:a})}),c=await b.json();if(console.log("[v0] Lead creation response:",c),!b.ok)throw Error(c.error||"Failed to create lead");alert(w.shops.contactShop+" - "+w.common.success)}catch(a){console.error("[v0] Error creating lead:",a),alert(`${w.shops.contactShop} - ${a instanceof Error?a.message:w.common.error}`)}};return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(D,{showBackButton:!0,onBack:()=>L.push("/")}),(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[q&&(0,b.jsxs)(d.Card,{className:"mb-6 border-primary/20 bg-primary/5",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{className:"text-lg",children:w.diagnosis.title}),(0,b.jsx)(d.CardDescription,{children:q.ai_response.probable_issue})]}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[w.diagnosis.estimatedCost,": ",(0,b.jsx)("span",{className:"font-semibold",children:q.estimated_cost})]}),r&&(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:[w.shops.findShops," - ",(0,b.jsx)("span",{className:"font-semibold",children:r})]})]})]}),r&&0===N.length&&(0,b.jsxs)(u.Alert,{className:"mb-6",children:[(0,b.jsx)(o.AlertCircle,{className:"h-4 w-4"}),(0,b.jsx)(u.AlertTitle,{children:w.shops.noShops}),(0,b.jsxs)(u.AlertDescription,{children:[w.shops.noShops," - ",r,". ",(0,b.jsx)(p.default,{href:"/shops",className:"underline font-semibold",children:w.shops.title})]})]}),(0,b.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"mb-2 text-3xl font-bold",children:w.shops.findShops}),(0,b.jsx)("p",{className:"text-muted-foreground",children:w.shops.findShops})]}),(0,b.jsxs)(e.Button,{variant:"outline",onClick:M,disabled:H,className:"gap-2 bg-transparent",children:[H?(0,b.jsx)(n.Loader2,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(m,{className:"h-4 w-4"}),H?w.shops.loadingLocation:F?w.common.edit:w.shops.getDirections]})]}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(l.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(g.Input,{placeholder:w.shops.searchPlaceholder,value:x,onChange:a=>y(a.target.value),className:"pl-10"})]})}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsx)("div",{className:"space-y-4 order-2 lg:order-1",children:0===N.length?(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"py-8 text-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:w.shops.noShops})})}):N.map(a=>{var c;return(0,b.jsxs)(d.Card,{className:`cursor-pointer transition-colors hover:border-primary ${z?.id===a.id?"border-primary":""} ${B?.id===a.id?"border-primary/50 shadow-md":""}`,onClick:()=>A(a),onMouseEnter:()=>E(a),onMouseLeave:()=>E(null),children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(p.default,{href:`/shops/${a.id}`,onClick:a=>a.stopPropagation(),children:(0,b.jsx)(d.CardTitle,{className:"hover:text-primary transition-colors",children:a.name})}),(0,b.jsxs)(d.CardDescription,{className:"mt-1 flex items-center gap-1",children:[(0,b.jsx)(h.MapPin,{className:"h-3 w-3"}),a.address,void 0!==a.distance&&(0,b.jsxs)("span",{className:"ml-2 font-semibold text-primary",children:["‚Ä¢ ",(c=a.distance)<1?`${Math.round(1e3*c)}m`:`${c.toFixed(1)}km`]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(k.Star,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),(0,b.jsx)("span",{className:"font-semibold",children:a.rating.toFixed(1)})]})]})}),(0,b.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.expertise.map(a=>(0,b.jsx)(f.Badge,{variant:"secondary",children:a},a))}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[a.phone&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,b.jsx)(i.Phone,{className:"h-4 w-4"}),a.phone]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,b.jsx)(j.Mail,{className:"h-4 w-4"}),a.email]}),a.price_range&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"font-semibold",children:[w.shops.priceRange,":"]}),(0,b.jsx)("span",{className:"text-muted-foreground",children:a.price_range})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(p.default,{href:`/shops/${a.id}`,className:"flex-1",onClick:a=>a.stopPropagation(),children:(0,b.jsxs)(e.Button,{variant:"outline",className:"w-full bg-transparent",children:[w.shops.viewDetails," & ",w.shops.reviews]})}),q&&(0,b.jsx)(e.Button,{className:"flex-1",onClick:b=>{b.stopPropagation(),O(a.id)},children:w.shops.contactShop})]})]})]},a.id)})}),(0,b.jsx)("div",{className:"order-1 lg:order-2 sticky top-4 h-[400px] lg:h-[calc(100vh-8rem)] min-h-[400px] z-10",children:(0,b.jsx)(s,{shops:N,selectedShop:z,hoveredShop:B,onSelectShop:A,userLocation:F})})]})]})]})}a.s(["ShopDirectory",()=>E],64697)}];

//# sourceMappingURL=components_shop-directory_tsx_3fc675eb._.js.map