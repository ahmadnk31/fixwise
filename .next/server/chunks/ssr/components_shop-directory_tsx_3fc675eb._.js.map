{"version":3,"sources":["turbopack:///[project]/components/shop-directory.tsx","turbopack:///[project]/components/shop-map.tsx","turbopack:///[project]/lib/utils/distance.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/src/icons/navigation.ts"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Input } from \"@/components/ui/input\"\nimport { MapPin, Phone, Mail, Star, Wrench, Search, Navigation, Loader2, AlertCircle, ArrowLeft } from 'lucide-react'\nimport type { RepairShop, Diagnosis } from \"@/lib/types\"\nimport Link from \"next/link\"\nimport { ShopMap } from \"./shop-map\"\nimport { calculateDistance, formatDistance } from \"@/lib/utils/distance\"\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\"\nimport { useRouter } from 'next/navigation'\nimport Image from \"next/image\"\nimport { NavbarClient } from \"./navbar-client\"\nimport { useI18n } from \"@/lib/i18n/context\"\n\ninterface ShopDirectoryProps {\n  shops: RepairShop[]\n  diagnosis: Diagnosis | null\n  repairComponent?: string | null\n}\n\nexport function ShopDirectory({ shops, diagnosis, repairComponent }: ShopDirectoryProps) {\n  const { t } = useI18n()\n  const [searchQuery, setSearchQuery] = useState(\"\")\n  const [selectedShop, setSelectedShop] = useState<RepairShop | null>(null)\n  const [hoveredShop, setHoveredShop] = useState<RepairShop | null>(null)\n  const [userLocation, setUserLocation] = useState<{ lat: number; lng: number } | null>(null)\n  const [locationLoading, setLocationLoading] = useState(false)\n  const [shopsWithDistance, setShopsWithDistance] = useState<RepairShop[]>(shops)\n  const router = useRouter()\n\n  useEffect(() => {\n    requestUserLocation()\n  }, [])\n\n  useEffect(() => {\n    if (userLocation) {\n      const shopsWithDist = shops.map((shop) => {\n        if (shop.latitude && shop.longitude) {\n          const distance = calculateDistance(userLocation.lat, userLocation.lng, shop.latitude, shop.longitude)\n          return { ...shop, distance }\n        }\n        return shop\n      })\n      // Sort by distance\n      shopsWithDist.sort((a, b) => {\n        if (a.distance === undefined) return 1\n        if (b.distance === undefined) return -1\n        return a.distance - b.distance\n      })\n      setShopsWithDistance(shopsWithDist)\n    } else {\n      setShopsWithDistance(shops)\n    }\n  }, [userLocation, shops])\n\n  const requestUserLocation = () => {\n    if (!navigator.geolocation) {\n      alert(t.shops.locationNotSupported)\n      return\n    }\n\n    setLocationLoading(true)\n    navigator.geolocation.getCurrentPosition(\n      (position) => {\n        setUserLocation({\n          lat: position.coords.latitude,\n          lng: position.coords.longitude,\n        })\n        setLocationLoading(false)\n      },\n      (error) => {\n        console.error(\"Error getting location:\", error)\n        setLocationLoading(false)\n      },\n    )\n  }\n\n  const filteredShops = shopsWithDistance.filter((shop) => {\n    const query = searchQuery.toLowerCase()\n    return (\n      shop.name.toLowerCase().includes(query) ||\n      shop.address.toLowerCase().includes(query) ||\n      shop.expertise.some((exp) => exp.toLowerCase().includes(query))\n    )\n  })\n\n  const handleContactShop = async (shopId: string) => {\n    if (!diagnosis) {\n      alert(t.shops.completeDiagnosisFirst)\n      return\n    }\n\n    console.log(\"[v0] Contacting shop - diagnosis:\", diagnosis.id, \"shop:\", shopId)\n\n    try {\n      const response = await fetch(\"/api/leads\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          diagnosisId: diagnosis.id,\n          shopId,\n        }),\n      })\n\n      const data = await response.json()\n      console.log(\"[v0] Lead creation response:\", data)\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Failed to create lead\")\n      }\n\n      alert(t.shops.contactShop + \" - \" + t.common.success)\n    } catch (error) {\n      console.error(\"[v0] Error creating lead:\", error)\n      alert(`${t.shops.contactShop} - ${error instanceof Error ? error.message : t.common.error}`)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      \n      <div className=\"container mx-auto px-4 py-8\">\n        {diagnosis && (\n          <Card className=\"mb-6 border-primary/20 bg-primary/5\">\n            <CardHeader>\n              <CardTitle className=\"text-lg\">{t.diagnosis.title}</CardTitle>\n              <CardDescription>{diagnosis.ai_response.probable_issue}</CardDescription>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-sm text-muted-foreground\">\n                {t.diagnosis.estimatedCost}: <span className=\"font-semibold\">{diagnosis.estimated_cost}</span>\n              </p>\n              {repairComponent && (\n                <p className=\"text-sm text-muted-foreground mt-2\">\n                  {t.shops.findShops} - <span className=\"font-semibold\">{repairComponent}</span>\n                </p>\n              )}\n            </CardContent>\n          </Card>\n        )}\n\n        {repairComponent && filteredShops.length === 0 && (\n          <Alert className=\"mb-6\">\n            <AlertCircle className=\"h-4 w-4\" />\n            <AlertTitle>{t.shops.noShops}</AlertTitle>\n            <AlertDescription>\n              {t.shops.noShops} - {repairComponent}. <Link href=\"/shops\" className=\"underline font-semibold\">{t.shops.title}</Link>\n            </AlertDescription>\n          </Alert>\n        )}\n\n        <div className=\"mb-6 flex items-center justify-between\">\n          <div>\n            <h1 className=\"mb-2 text-3xl font-bold\">{t.shops.title}</h1>\n            <p className=\"text-muted-foreground\">{t.shops.findShops}</p>\n          </div>\n          <Button\n            variant=\"outline\"\n            onClick={requestUserLocation}\n            disabled={locationLoading}\n            className=\"gap-2 bg-transparent\"\n          >\n            {locationLoading ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Navigation className=\"h-4 w-4\" />}\n            {locationLoading ? t.shops.loadingLocation : userLocation ? t.common.edit : t.shops.getDirections}\n          </Button>\n        </div>\n\n        {/* Search */}\n        <div className=\"mb-6\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n            <Input\n              placeholder={t.shops.searchPlaceholder}\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"pl-10\"\n            />\n          </div>\n        </div>\n\n        <div className=\"grid gap-6 lg:grid-cols-2\">\n          {/* Shop List */}\n          <div className=\"space-y-4 order-2 lg:order-1\">\n            {filteredShops.length === 0 ? (\n              <Card>\n                <CardContent className=\"py-8 text-center\">\n                  <p className=\"text-muted-foreground\">{t.shops.noShops}</p>\n                </CardContent>\n              </Card>\n            ) : (\n              filteredShops.map((shop) => (\n                <Card\n                  key={shop.id}\n                  className={`cursor-pointer transition-colors hover:border-primary ${\n                    selectedShop?.id === shop.id ? \"border-primary\" : \"\"\n                  } ${hoveredShop?.id === shop.id ? \"border-primary/50 shadow-md\" : \"\"}`}\n                  onClick={() => setSelectedShop(shop)}\n                  onMouseEnter={() => setHoveredShop(shop)}\n                  onMouseLeave={() => setHoveredShop(null)}\n                >\n                  <CardHeader>\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex-1\">\n                        <Link href={`/shops/${shop.id}`} onClick={(e) => e.stopPropagation()}>\n                          <CardTitle className=\"hover:text-primary transition-colors\">{shop.name}</CardTitle>\n                        </Link>\n                        <CardDescription className=\"mt-1 flex items-center gap-1\">\n                          <MapPin className=\"h-3 w-3\" />\n                          {shop.address}\n                          {shop.distance !== undefined && (\n                            <span className=\"ml-2 font-semibold text-primary\">‚Ä¢ {formatDistance(shop.distance)}</span>\n                          )}\n                        </CardDescription>\n                      </div>\n                      <div className=\"flex items-center gap-1\">\n                        <Star className=\"h-4 w-4 fill-yellow-400 text-yellow-400\" />\n                        <span className=\"font-semibold\">{shop.rating.toFixed(1)}</span>\n                      </div>\n                    </div>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div className=\"flex flex-wrap gap-2\">\n                      {shop.expertise.map((exp) => (\n                        <Badge key={exp} variant=\"secondary\">\n                          {exp}\n                        </Badge>\n                      ))}\n                    </div>\n\n                    <div className=\"space-y-2 text-sm\">\n                      {shop.phone && (\n                        <div className=\"flex items-center gap-2 text-muted-foreground\">\n                          <Phone className=\"h-4 w-4\" />\n                          {shop.phone}\n                        </div>\n                      )}\n                      <div className=\"flex items-center gap-2 text-muted-foreground\">\n                        <Mail className=\"h-4 w-4\" />\n                        {shop.email}\n                      </div>\n                      {shop.price_range && (\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"font-semibold\">{t.shops.priceRange}:</span>\n                          <span className=\"text-muted-foreground\">{shop.price_range}</span>\n                        </div>\n                      )}\n                    </div>\n\n                    <div className=\"flex gap-2\">\n                      <Link href={`/shops/${shop.id}`} className=\"flex-1\" onClick={(e) => e.stopPropagation()}>\n                        <Button variant=\"outline\" className=\"w-full bg-transparent\">\n                          {t.shops.viewDetails} & {t.shops.reviews}\n                        </Button>\n                      </Link>\n                      {diagnosis && (\n                        <Button\n                          className=\"flex-1\"\n                          onClick={(e) => {\n                            e.stopPropagation()\n                            handleContactShop(shop.id)\n                          }}\n                        >\n                          {t.shops.contactShop}\n                        </Button>\n                      )}\n                    </div>\n                  </CardContent>\n                </Card>\n              ))\n            )}\n          </div>\n\n          {/* Map */}\n          <div className=\"order-1 lg:order-2 sticky top-4 h-[400px] lg:h-[calc(100vh-8rem)] min-h-[400px] z-10\">\n            <ShopMap\n              shops={filteredShops}\n              selectedShop={selectedShop}\n              hoveredShop={hoveredShop}\n              onSelectShop={setSelectedShop}\n              userLocation={userLocation}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","\"use client\"\n\nimport { useEffect, useRef, useState } from \"react\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { MapPin, Loader2, Navigation, X } from 'lucide-react'\nimport { Button } from \"@/components/ui/button\"\nimport type { RepairShop } from \"@/lib/types\"\nimport { useGoogleMaps } from \"@/lib/hooks/use-google-maps\"\n\ninterface ShopMapProps {\n  shops: RepairShop[]\n  selectedShop: RepairShop | null\n  hoveredShop?: RepairShop | null\n  onSelectShop: (shop: RepairShop | null) => void\n  userLocation: { lat: number; lng: number } | null\n}\n\ndeclare global {\n  interface Window {\n    google: any\n  }\n}\n\nexport function ShopMap({ shops, selectedShop, hoveredShop, onSelectShop, userLocation }: ShopMapProps) {\n  const mapRef = useRef<HTMLDivElement>(null)\n  const googleMapRef = useRef<any>(null)\n  const markersRef = useRef<any[]>([])\n  const directionsServiceRef = useRef<any>(null)\n  const directionsRendererRef = useRef<any>(null)\n  const userMarkerRef = useRef<any>(null)\n  const mapInitializedRef = useRef(false)\n  const [isLoading, setIsLoading] = useState(true)\n  const [showingRoute, setShowingRoute] = useState(false)\n  const { isLoaded: mapsLoaded, error: mapsError } = useGoogleMaps()\n\n  useEffect(() => {\n    if (mapsLoaded && window.google?.maps && !mapInitializedRef.current) {\n          initializeMap()\n      mapInitializedRef.current = true\n    } else if (mapsError) {\n        setIsLoading(false)\n    }\n  }, [mapsLoaded, mapsError])\n\n  useEffect(() => {\n    if (googleMapRef.current && shops.length > 0) {\n      updateMarkers()\n    }\n  }, [shops, hoveredShop])\n\n  useEffect(() => {\n    // Prioritize selected shop, fall back to hovered shop\n    const shopToShow = selectedShop || hoveredShop\n    if (shopToShow && userLocation && googleMapRef.current) {\n      showRoute(shopToShow)\n    } else {\n      clearRoute()\n    }\n  }, [selectedShop, hoveredShop, userLocation])\n\n  useEffect(() => {\n    if (userLocation && googleMapRef.current && window.google) {\n      updateUserMarker()\n    }\n  }, [userLocation])\n\n  // Handle map resize on window resize (important for responsive layouts)\n  useEffect(() => {\n    const handleResize = () => {\n      if (googleMapRef.current && window.google) {\n        setTimeout(() => {\n          window.google.maps.event.trigger(googleMapRef.current, \"resize\")\n        }, 100)\n      }\n    }\n\n    window.addEventListener(\"resize\", handleResize)\n    return () => window.removeEventListener(\"resize\", handleResize)\n  }, [])\n\n  const initializeMap = () => {\n    if (!mapRef.current || !window.google) {\n      return\n    }\n\n    const shopWithCoords = shops.find((s) => s.latitude && s.longitude)\n    const center = userLocation\n      ? userLocation\n      : shopWithCoords\n        ? { lat: shopWithCoords.latitude, lng: shopWithCoords.longitude }\n        : { lat: 37.7749, lng: -122.4194 }\n\n    const customMapStyles = [\n      {\n        featureType: \"all\",\n        elementType: \"geometry\",\n        stylers: [{ color: \"#f5f5f5\" }],\n      },\n      {\n        featureType: \"all\",\n        elementType: \"labels.text.fill\",\n        stylers: [{ color: \"#1A2332\" }],\n      },\n      {\n        featureType: \"all\",\n        elementType: \"labels.text.stroke\",\n        stylers: [{ color: \"#ffffff\" }],\n      },\n      {\n        featureType: \"administrative\",\n        elementType: \"geometry\",\n        stylers: [{ visibility: \"off\" }],\n      },\n      {\n        featureType: \"administrative.land_parcel\",\n        elementType: \"labels\",\n        stylers: [{ visibility: \"off\" }],\n      },\n      {\n        featureType: \"poi\",\n        stylers: [{ visibility: \"off\" }],\n      },\n      {\n        featureType: \"road\",\n        elementType: \"geometry\",\n        stylers: [{ color: \"#ffffff\" }],\n      },\n      {\n        featureType: \"road\",\n        elementType: \"labels.icon\",\n        stylers: [{ visibility: \"off\" }],\n      },\n      {\n        featureType: \"road.arterial\",\n        elementType: \"geometry\",\n        stylers: [{ color: \"#ffffff\" }],\n      },\n      {\n        featureType: \"road.highway\",\n        elementType: \"geometry\",\n        stylers: [{ color: \"#e8e8e8\" }],\n      },\n      {\n        featureType: \"road.highway\",\n        elementType: \"labels\",\n        stylers: [{ visibility: \"off\" }],\n      },\n      {\n        featureType: \"road.local\",\n        elementType: \"geometry\",\n        stylers: [{ visibility: \"simplified\" }],\n      },\n      {\n        featureType: \"transit\",\n        stylers: [{ visibility: \"off\" }],\n      },\n      {\n        featureType: \"water\",\n        elementType: \"geometry\",\n        stylers: [{ color: \"#d4e7f5\" }],\n      },\n      {\n        featureType: \"water\",\n        elementType: \"labels.text.fill\",\n        stylers: [{ color: \"#7891a3\" }],\n      },\n    ]\n\n    googleMapRef.current = new window.google.maps.Map(mapRef.current, {\n      center,\n      zoom: 12,\n      styles: customMapStyles,\n      disableDefaultUI: true,\n      zoomControl: true,\n      zoomControlOptions: {\n        position: window.google.maps.ControlPosition.RIGHT_CENTER,\n      },\n      gestureHandling: \"greedy\",\n      clickableIcons: false,\n    })\n\n    directionsServiceRef.current = new window.google.maps.DirectionsService()\n    directionsRendererRef.current = new window.google.maps.DirectionsRenderer({\n      map: googleMapRef.current,\n      suppressMarkers: true,\n      polylineOptions: {\n        strokeColor: \"#1A2332\",\n        strokeWeight: 5,\n        strokeOpacity: 0.8,\n      },\n    })\n\n    updateMarkers()\n    if (userLocation) {\n      updateUserMarker()\n    }\n    \n    // Trigger resize after initialization to ensure proper rendering on mobile\n    setTimeout(() => {\n      if (googleMapRef.current && window.google) {\n        window.google.maps.event.trigger(googleMapRef.current, \"resize\")\n      }\n    }, 100)\n    \n    setIsLoading(false)\n  }\n\n  const updateUserMarker = () => {\n    if (!googleMapRef.current || !window.google || !userLocation) {\n      return\n    }\n\n    if (userMarkerRef.current) {\n      userMarkerRef.current.setMap(null)\n    }\n\n    userMarkerRef.current = new window.google.maps.Marker({\n      position: userLocation,\n      map: googleMapRef.current,\n      title: \"Your Location\",\n      icon: {\n        path: window.google.maps.SymbolPath.CIRCLE,\n        scale: 12,\n        fillColor: \"#1A2332\",\n        fillOpacity: 1,\n        strokeColor: \"#ffffff\",\n        strokeWeight: 4,\n      },\n      animation: window.google.maps.Animation.DROP,\n      zIndex: 1000,\n    })\n  }\n\n  const showRoute = (shop?: RepairShop | null) => {\n    const targetShop = shop || selectedShop || hoveredShop\n    if (!targetShop?.latitude || !targetShop?.longitude || !userLocation) {\n      return\n    }\n\n    if (!directionsServiceRef.current || !directionsRendererRef.current) {\n      return\n    }\n\n    const request = {\n      origin: userLocation,\n      destination: { lat: targetShop.latitude, lng: targetShop.longitude },\n      travelMode: window.google.maps.TravelMode.DRIVING,\n    }\n\n    directionsServiceRef.current.route(request, (result: any, status: any) => {\n      if (status === window.google.maps.DirectionsStatus.OK) {\n        directionsRendererRef.current.setDirections(result)\n        setShowingRoute(true)\n      } else {\n        console.error(\"Directions request failed:\", status)\n      }\n    })\n  }\n\n  const clearRoute = () => {\n    if (directionsRendererRef.current) {\n      directionsRendererRef.current.setDirections({ routes: [] })\n      setShowingRoute(false)\n    }\n  }\n\n  const updateMarkers = () => {\n    if (!googleMapRef.current || !window.google) {\n      return\n    }\n\n    markersRef.current.forEach((marker) => marker.setMap(null))\n    markersRef.current = []\n\n    const bounds = new window.google.maps.LatLngBounds()\n    let hasValidMarkers = false\n\n    if (userLocation) {\n      bounds.extend(userLocation)\n      hasValidMarkers = true\n    }\n\n    shops.forEach((shop) => {\n      if (!shop.latitude || !shop.longitude) {\n        return\n      }\n\n      const position = { lat: shop.latitude, lng: shop.longitude }\n      const isSelected = selectedShop?.id === shop.id\n      const isHovered = hoveredShop?.id === shop.id\n\n      // Determine marker color and size based on state\n      let markerColor = \"#3d4b5f\"\n      let markerSize = 40\n      let markerHeight = 50\n      let zIndex = 1\n\n      if (isSelected) {\n        markerColor = \"#1A2332\"\n        markerSize = 48\n        markerHeight = 60\n        zIndex = 999\n      } else if (isHovered) {\n        markerColor = \"#2563eb\"\n        markerSize = 44\n        markerHeight = 55\n        zIndex = 500\n      }\n\n      const marker = new window.google.maps.Marker({\n        position,\n        map: googleMapRef.current,\n        title: shop.name,\n        icon: {\n          url: `data:image/svg+xml;charset=UTF-8,${encodeURIComponent(`\n            <svg width=\"${markerSize}\" height=\"${markerHeight}\" viewBox=\"0 0 40 50\" xmlns=\"http://www.w3.org/2000/svg\">\n              <g filter=\"url(#shadow)\">\n                <path d=\"M20 0C11.716 0 5 6.716 5 15c0 8.284 15 35 15 35s15-26.716 15-35c0-8.284-6.716-15-15-15z\" \n                      fill=\"${markerColor}\" />\n                <circle cx=\"20\" cy=\"15\" r=\"6\" fill=\"white\" />\n                <path d=\"M20 11 L22 15 L18 15 Z M20 19 L18 15 L22 15 Z\" fill=\"${markerColor}\" />\n              </g>\n              <defs>\n                <filter id=\"shadow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n                  <feDropShadow dx=\"0\" dy=\"2\" stdDeviation=\"3\" floodOpacity=\"0.3\"/>\n                </filter>\n              </defs>\n            </svg>\n          `)}`,\n          scaledSize: new window.google.maps.Size(markerSize, markerHeight),\n          anchor: new window.google.maps.Point(markerSize / 2, markerHeight),\n        },\n        animation: isHovered ? window.google.maps.Animation.BOUNCE : null,\n        zIndex: zIndex,\n      })\n      \n      // Store shop reference on marker for hover updates\n      ;(marker as any).shopId = shop.id\n\n      marker.addListener(\"click\", () => {\n        onSelectShop(shop)\n        googleMapRef.current.panTo(position)\n      })\n\n      const infoWindow = new window.google.maps.InfoWindow({\n        content: `\n          <div style=\"padding: 12px; max-width: 240px; font-family: system-ui, -apple-system, sans-serif;\">\n            <h3 style=\"margin: 0 0 8px 0; font-weight: 600; font-size: 16px; color: #1A2332;\">${shop.name}</h3>\n            <p style=\"margin: 0 0 6px 0; font-size: 13px; color: #6b7280; line-height: 1.4;\">${shop.address}</p>\n            <div style=\"display: flex; flex-wrap: wrap; gap: 4px; margin-top: 8px;\">\n              ${shop.expertise\n                .map(\n                  (exp) =>\n                    `<span style=\"background: #e8eef5; color: #1A2332; padding: 2px 8px; border-radius: 12px; font-size: 11px; font-weight: 500;\">${exp}</span>`,\n                )\n                .join(\"\")}\n            </div>\n            ${shop.distance ? `<p style=\"margin: 8px 0 0 0; font-size: 12px; color: #1A2332; font-weight: 600;\">üìç ${shop.distance.toFixed(1)} km away</p>` : \"\"}\n          </div>\n        `,\n      })\n\n      marker.addListener(\"mouseenter\", () => {\n        infoWindow.open(googleMapRef.current, marker)\n      })\n\n      marker.addListener(\"mouseleave\", () => {\n        if (!isSelected) {\n          infoWindow.close()\n        }\n      })\n\n      markersRef.current.push(marker)\n      bounds.extend(position)\n      hasValidMarkers = true\n    })\n\n    // Update marker animations based on hover state\n    markersRef.current.forEach((marker) => {\n      const markerShopId = (marker as any).shopId\n      if (hoveredShop && markerShopId === hoveredShop.id) {\n        marker.setAnimation(window.google.maps.Animation.BOUNCE)\n      } else {\n        marker.setAnimation(null)\n      }\n    })\n\n    // Pan to hovered shop smoothly\n    if (hoveredShop && googleMapRef.current && window.google) {\n      const hoveredShopData = shops.find((s) => s.id === hoveredShop.id)\n      if (hoveredShopData?.latitude && hoveredShopData?.longitude) {\n        googleMapRef.current.panTo({\n          lat: hoveredShopData.latitude,\n          lng: hoveredShopData.longitude,\n        })\n      }\n    }\n\n    // Only fit bounds if not showing route and not hovering\n    if (hasValidMarkers && googleMapRef.current && !showingRoute && !hoveredShop && !selectedShop) {\n      googleMapRef.current.fitBounds(bounds, { padding: 60 })\n    }\n  }\n\n  if (mapsError) {\n    return (\n      <Card className=\"h-full\">\n        <CardContent className=\"flex h-full items-center justify-center p-6\">\n          <div className=\"text-center\">\n            <MapPin className=\"mx-auto mb-4 h-12 w-12 text-muted-foreground\" />\n            <h3 className=\"mb-2 text-lg font-semibold\">Map Unavailable</h3>\n            <p className=\"text-sm text-muted-foreground\">{mapsError}</p>\n            <p className=\"mt-4 text-xs text-muted-foreground\">\n              Please check your Maps configuration in environment variables\n            </p>\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  return (\n    <Card className=\"h-full overflow-hidden py-0\">\n      <CardContent className=\"relative h-full p-0\">\n        {isLoading && (\n          <div className=\"absolute inset-0 z-10 flex items-center justify-center bg-background/80 backdrop-blur-sm\">\n            <div className=\"text-center\">\n              <Loader2 className=\"mx-auto h-8 w-8 animate-spin text-primary\" />\n              <p className=\"mt-2 text-sm text-muted-foreground\">Loading map...</p>\n            </div>\n          </div>\n        )}\n        {showingRoute && (selectedShop || hoveredShop) && (\n          <div className=\"absolute left-4 top-4 z-10 rounded-xl bg-background/95 p-4 shadow-xl backdrop-blur-md\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"rounded-full bg-primary/10 p-2\">\n                  <Navigation className=\"h-5 w-5 text-primary\" />\n                </div>\n                <div>\n                  <p className=\"text-xs text-muted-foreground\">\n                    {selectedShop ? \"Directions to\" : \"Hovering over\"}\n                  </p>\n                  <p className=\"font-semibold text-foreground\">{(selectedShop || hoveredShop)?.name}</p>\n                </div>\n              </div>\n              {selectedShop && (\n              <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={() => onSelectShop(null as any)}>\n                <X className=\"h-4 w-4\" />\n              </Button>\n              )}\n            </div>\n          </div>\n        )}\n        <div ref={mapRef} className=\"h-full w-full\" />\n      </CardContent>\n    </Card>\n  )\n}\n","export function calculateDistance(lat1: number, lon1: number, lat2: number, lon2: number): number {\n  // Haversine formula to calculate distance between two coordinates\n  const R = 6371 // Radius of the Earth in kilometers\n  const dLat = toRad(lat2 - lat1)\n  const dLon = toRad(lon2 - lon1)\n  const a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2)\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))\n  const distance = R * c\n  return distance\n}\n\nfunction toRad(degrees: number): number {\n  return degrees * (Math.PI / 180)\n}\n\nexport function formatDistance(km: number): string {\n  if (km < 1) {\n    return `${Math.round(km * 1000)}m`\n  }\n  return `${km.toFixed(1)}km`\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Navigation\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjMgMTEgMjIgMiAxMyAyMSAxMSAxMyAzIDExIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/navigation\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Navigation = createLucideIcon('Navigation', [\n  ['polygon', { points: '3 11 22 2 13 21 11 13 3 11', key: '1ltx0t' }],\n]);\n\nexport default Navigation;\n"],"names":[],"mappings":"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","ignoreList":[3]}