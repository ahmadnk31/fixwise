module.exports=[94891,a=>{"use strict";var b=a.i(96974),c=a.i(16590),d=a.i(3130),e=a.i(40695),f=a.i(5522),g=a.i(17171),h=a.i(46893),i=a.i(54161),j=a.i(32267),k=a.i(69964),l=a.i(12582),m=a.i(97568),n=a.i(69411),o=a.i(59441),p=a.i(40762),q=a.i(20085),r=a.i(70961),s=a.i(23702),t=a.i(61237);let u=(0,t.default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),v=(0,t.default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),w=(0,t.default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var x=a.i(1556),y=a.i(69240),z=a.i(55005),A=a.i(65602),B=a.i(80281),C=a.i(93735),D=a.i(56042),E=a.i(21958);let F=[{code:"AT",name:"Austria"},{code:"BE",name:"Belgium"},{code:"BG",name:"Bulgaria"},{code:"HR",name:"Croatia"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czech Republic"},{code:"DK",name:"Denmark"},{code:"EE",name:"Estonia"},{code:"FI",name:"Finland"},{code:"FR",name:"France"},{code:"DE",name:"Germany"},{code:"GR",name:"Greece"},{code:"HU",name:"Hungary"},{code:"IE",name:"Ireland"},{code:"IT",name:"Italy"},{code:"LV",name:"Latvia"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"MT",name:"Malta"},{code:"NL",name:"Netherlands"},{code:"PL",name:"Poland"},{code:"PT",name:"Portugal"},{code:"RO",name:"Romania"},{code:"SK",name:"Slovakia"},{code:"SI",name:"Slovenia"},{code:"ES",name:"Spain"},{code:"SE",name:"Sweden"}];function G({user:a,shop:t}){let G=(0,z.useRouter)(),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(null),[L,M]=(0,c.useState)(!1),N=(0,c.useRef)(null),O=(0,c.useRef)(null),[P,Q]=(0,c.useState)({name:t?.name||"",email:t?.email||a.email||"",phone:t?.phone||"",address:t?.address||"",priceRange:t?.price_range||"$$",latitude:t?.latitude||null,longitude:t?.longitude||null}),[R,S]=(0,c.useState)({businessName:t?.business_name||"",vatNumber:t?.vat_number||"",companyRegistration:t?.company_registration||"",businessAddress:t?.business_address||"",businessCountry:t?.business_country||"",businessType:t?.business_type||"company"}),[T,U]=(0,c.useState)({isValidating:!1,isValid:t?.vat_validated||null,message:null,companyName:null}),[V,W]=(0,c.useState)(t?.expertise||[]),[X,Y]=(0,c.useState)(""),{isLoaded:Z}=(0,C.useGoogleMaps)(),[$,_]=(0,c.useState)(t?.profile_image||null),[aa,ab]=(0,c.useState)(null),[ac,ad]=(0,c.useState)(t?.profile_image||null),[ae,af]=(0,c.useState)(t?.gallery_images||[]),[ag,ah]=(0,c.useState)([]),[ai,aj]=(0,c.useState)(t?.gallery_images||[]),[ak,al]=(0,c.useState)(t?.bio||""),[am,an]=(0,c.useState)(t?.description||""),[ao,ap]=(0,c.useState)({facebook:t?.social_media?.facebook||"",instagram:t?.social_media?.instagram||"",twitter:t?.social_media?.twitter||"",website:t?.social_media?.website||""}),[aq,ar]=(0,c.useState)({max_bookings_per_day:t?.booking_preferences?.max_bookings_per_day||10,max_bookings_per_slot:t?.booking_preferences?.max_bookings_per_slot||1,working_hours_start:t?.booking_preferences?.working_hours?.start||"09:00",working_hours_end:t?.booking_preferences?.working_hours?.end||"17:00",slot_duration_minutes:t?.booking_preferences?.slot_duration_minutes||30,buffer_time_minutes:t?.booking_preferences?.buffer_time_minutes||15,advance_booking_days:t?.booking_preferences?.advance_booking_days||30,same_day_booking_allowed:t?.booking_preferences?.same_day_booking_allowed??!0,auto_confirm:t?.booking_preferences?.auto_confirm??!1,require_phone:t?.booking_preferences?.require_phone??!1});(0,c.useEffect)(()=>{Z&&window.google?.maps&&!O.current&&as()},[Z]);let as=()=>{N.current&&window.google&&!O.current&&(O.current=new window.google.maps.places.Autocomplete(N.current,{types:["address"],fields:["formatted_address","geometry"]}),O.current.addListener("place_changed",()=>{let a=O.current.getPlace();if(a.geometry&&a.geometry.location){let b=a.geometry.location.lat(),c=a.geometry.location.lng();Q({...P,address:a.formatted_address||"",latitude:b,longitude:c})}}))},at=async()=>{if(!R.vatNumber||!R.businessCountry)return void U({isValidating:!1,isValid:!1,message:"Please enter VAT number and select country",companyName:null});U({isValidating:!0,isValid:null,message:"Validating VAT number...",companyName:null});try{let a=await fetch("/api/validate-vat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vatNumber:R.vatNumber,countryCode:R.businessCountry})}),b=await a.json();b.valid?(U({isValidating:!1,isValid:!0,message:"VAT number validated successfully!",companyName:b.name||null}),b.name&&!R.businessName&&S({...R,businessName:b.name})):U({isValidating:!1,isValid:!1,message:b.error||"VAT number is invalid",companyName:null})}catch(a){U({isValidating:!1,isValid:!1,message:"Error validating VAT number. Please try again.",companyName:null})}},au=()=>{X.trim()&&!V.includes(X.trim())&&(W([...V,X.trim()]),Y(""))},av=(0,c.useCallback)(a=>{let b=a[0];if(b){ab(b);let a=new FileReader;a.onloadend=()=>{ad(a.result)},a.readAsDataURL(b)}},[]),{getRootProps:aw,getInputProps:ax,isDragActive:ay}=(0,D.useDropzone)({onDrop:av,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},maxFiles:1,maxSize:5242880}),az=(0,c.useCallback)(a=>{let b=10-ai.length,c=a.slice(0,b);ah([...ag,...c]),c.forEach(a=>{let b=new FileReader;b.onloadend=()=>{aj(a=>[...a,b.result])},b.readAsDataURL(a)})},[ag,ai.length]),{getRootProps:aA,getInputProps:aB,isDragActive:aC}=(0,D.useDropzone)({onDrop:az,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},maxFiles:10,maxSize:5242880}),aD=async b=>{b.preventDefault(),I(!0),K(null),M(!1);try{let b=(0,y.createClient)(),c=$;if(aa){let d=aa.name.split(".").pop(),e=`profile-${Date.now()}-${Math.random().toString(36).substring(7)}.${d}`,f=`${a.id}/${e}`;if($&&$.includes("shop-images")){let a=$.split("/").slice(-2).join("/");await b.storage.from("shop-images").remove([a])}let{data:g,error:h}=await b.storage.from("shop-images").upload(f,aa,{contentType:aa.type,cacheControl:"3600",upsert:!0});if(h)console.error("Profile image upload error:",h);else{let{data:{publicUrl:a}}=b.storage.from("shop-images").getPublicUrl(f);c=a}}let d=[];for(let c of ag){let e=c.name.split(".").pop(),f=`gallery-${Date.now()}-${Math.random().toString(36).substring(7)}.${e}`,g=`${a.id}/${f}`,{data:h,error:i}=await b.storage.from("shop-images").upload(g,c,{contentType:c.type,cacheControl:"3600"});if(i)console.error("Gallery image upload error:",i);else{let{data:{publicUrl:a}}=b.storage.from("shop-images").getPublicUrl(g);d.push(a)}}let e={owner_id:a.id,name:P.name,email:P.email,phone:P.phone,address:P.address,latitude:P.latitude,longitude:P.longitude,price_range:P.priceRange,expertise:V,business_name:R.businessName||null,vat_number:R.vatNumber||null,company_registration:R.companyRegistration||null,business_address:R.businessAddress||null,business_country:R.businessCountry||null,vat_validated:T.isValid||!1,business_type:R.businessType||null,profile_image:c,gallery_images:[...ae,...d],bio:ak.trim()||null,description:am.trim()||null,social_media:{facebook:ao.facebook.trim()||null,instagram:ao.instagram.trim()||null,twitter:ao.twitter.trim()||null,website:ao.website.trim()||null},booking_preferences:{max_bookings_per_day:aq.max_bookings_per_day,max_bookings_per_slot:aq.max_bookings_per_slot,working_hours:{start:aq.working_hours_start,end:aq.working_hours_end},slot_duration_minutes:aq.slot_duration_minutes,buffer_time_minutes:aq.buffer_time_minutes,advance_booking_days:aq.advance_booking_days,same_day_booking_allowed:aq.same_day_booking_allowed,auto_confirm:aq.auto_confirm,require_phone:aq.require_phone}};if(t){let{error:a}=await b.from("repair_shops").update(e).eq("id",t.id);if(a)throw a}else{let{error:a}=await b.from("repair_shops").insert(e);if(a)throw a}M(!0),setTimeout(()=>{G.push("/shop/dashboard"),G.refresh()},1500)}catch(a){K(a instanceof Error?a.message:"An error occurred")}finally{I(!1)}},aE=F.some(a=>a.code===R.businessCountry);return(0,b.jsx)("div",{className:"min-h-screen bg-background",children:(0,b.jsxs)("div",{className:"container mx-auto max-w-2xl px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"mb-2 text-3xl font-bold",children:"Shop Settings"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:t?"Update your shop information":"Create your shop profile"})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:t?"Edit Shop":"Create Shop"}),(0,b.jsx)(d.CardDescription,{children:"Manage your repair shop listing"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("form",{onSubmit:aD,children:[(0,b.jsxs)(E.Tabs,{defaultValue:"basic",className:"w-full",children:[(0,b.jsx)("div",{className:"overflow-x-auto -mx-4 px-4 mb-6",children:(0,b.jsxs)(E.TabsList,{className:"inline-flex w-auto min-w-full md:min-w-0",children:[(0,b.jsxs)(E.TabsTrigger,{value:"basic",className:"flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(s.Store,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Basic"})]}),(0,b.jsxs)(E.TabsTrigger,{value:"profile",className:"flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(n.Image,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Profile"})]}),(0,b.jsxs)(E.TabsTrigger,{value:"about",className:"flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(u,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"About"})]}),(0,b.jsxs)(E.TabsTrigger,{value:"social",className:"flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(v,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Social"})]}),(0,b.jsxs)(E.TabsTrigger,{value:"business",className:"flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(w,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Business"})]}),(0,b.jsxs)(E.TabsTrigger,{value:"booking",className:"flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(x.Calendar,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Booking"})]})]})}),(0,b.jsxs)(E.TabsContent,{value:"basic",className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"name",children:"Shop Name *"}),(0,b.jsx)(f.Input,{id:"name",required:!0,value:P.name,onChange:a=>Q({...P,name:a.target.value}),placeholder:"TechFix Pro"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"email",children:"Email *"}),(0,b.jsx)(f.Input,{id:"email",type:"email",required:!0,value:P.email,onChange:a=>Q({...P,email:a.target.value}),placeholder:"contact@techfix.com"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"phone",children:"Phone"}),(0,b.jsx)(f.Input,{id:"phone",type:"tel",value:P.phone,onChange:a=>Q({...P,phone:a.target.value}),placeholder:"555-0123"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"address",children:"Address *"}),(0,b.jsx)(f.Input,{ref:N,id:"address",required:!0,value:P.address,onChange:a=>Q({...P,address:a.target.value}),placeholder:"Start typing your address...",autoComplete:"off"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Start typing and select from the dropdown to automatically set your location on the map"}),P.latitude&&P.longitude&&(0,b.jsxs)("p",{className:"text-xs text-green-600",children:["âœ“ Location set: ",P.latitude.toFixed(4),", ",P.longitude.toFixed(4)]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"priceRange",children:"Price Range"}),(0,b.jsxs)("select",{id:"priceRange",value:P.priceRange,onChange:a=>Q({...P,priceRange:a.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[(0,b.jsx)("option",{value:"$",children:"$ - Budget"}),(0,b.jsx)("option",{value:"$$",children:"$$ - Moderate"}),(0,b.jsx)("option",{value:"$$$",children:"$$$ - Premium"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"expertise",children:"Expertise"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Input,{id:"expertise",value:X,onChange:a=>Y(a.target.value),placeholder:"e.g., Camera, Screen, Battery",onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),au())}}),(0,b.jsx)(e.Button,{type:"button",onClick:au,children:"Add"})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:V.map(a=>(0,b.jsxs)(i.Badge,{variant:"secondary",className:"gap-1",children:[a,(0,b.jsx)("button",{type:"button",onClick:()=>{W(V.filter(b=>b!==a))},className:"ml-1",children:(0,b.jsx)(j.X,{className:"h-3 w-3"})})]},a))})]})]}),(0,b.jsxs)(E.TabsContent,{value:"profile",className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"Profile & Gallery"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Upload images to showcase your shop"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Profile Image"}),ac?(0,b.jsxs)("div",{className:"relative inline-block",children:[(0,b.jsx)("img",{src:ac,alt:"Profile preview",className:"h-32 w-32 rounded-lg object-cover border"}),(0,b.jsx)(e.Button,{type:"button",variant:"destructive",size:"icon",className:"absolute -right-2 -top-2 h-6 w-6",onClick:()=>{_(null),ab(null),ad(null)},children:(0,b.jsx)(j.X,{className:"h-4 w-4"})})]}):(0,b.jsxs)("div",{...aw(),className:`cursor-pointer rounded-lg border-2 border-dashed p-6 transition-colors ${ay?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50 hover:bg-muted/50"}`,children:[(0,b.jsx)("input",{...ax()}),(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 text-center",children:[(0,b.jsx)("div",{className:"rounded-full bg-primary/10 p-3",children:ay?(0,b.jsx)(m.Upload,{className:"h-6 w-6 text-primary"}):(0,b.jsx)(n.Image,{className:"h-6 w-6 text-primary"})}),ay?(0,b.jsx)("p",{className:"text-sm font-medium text-primary",children:"Drop image here"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("p",{className:"text-sm font-medium",children:[(0,b.jsx)("span",{className:"text-primary underline",children:"Click to upload"})," or drag and drop"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, GIF up to 5MB"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Gallery Images (up to 10)"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[ai.map((a,c)=>(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("img",{src:a,alt:`Gallery ${c+1}`,className:"h-24 w-full rounded-lg object-cover border"}),(0,b.jsx)(e.Button,{type:"button",variant:"destructive",size:"icon",className:"absolute -right-2 -top-2 h-6 w-6",onClick:()=>(a=>{if(a<ae.length)af(ae.filter((b,c)=>c!==a)),aj(ai.filter((b,c)=>c!==a));else{let b=a-ae.length;ah(ag.filter((a,c)=>c!==b)),aj(ai.filter((b,c)=>c!==a))}})(c),children:(0,b.jsx)(j.X,{className:"h-4 w-4"})})]},c)),ai.length<10&&(0,b.jsxs)("div",{...aA(),className:`cursor-pointer rounded-lg border-2 border-dashed p-4 transition-colors h-24 flex items-center justify-center ${aC?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50 hover:bg-muted/50"}`,children:[(0,b.jsx)("input",{...aB()}),(0,b.jsx)("div",{className:"text-center",children:aC?(0,b.jsx)("p",{className:"text-xs font-medium text-primary",children:"Drop images"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Upload,{className:"h-4 w-4 mx-auto text-muted-foreground mb-1"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Add"})]})})]})]})]})]}),(0,b.jsxs)(E.TabsContent,{value:"about",className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"About Your Shop"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tell customers about your shop"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"bio",children:"Bio (Short Description)"}),(0,b.jsx)(h.Textarea,{id:"bio",value:ak,onChange:a=>al(a.target.value),placeholder:"A brief introduction to your shop...",rows:3,maxLength:200}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[ak.length,"/200 characters"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"description",children:"Full Description"}),(0,b.jsx)(h.Textarea,{id:"description",value:am,onChange:a=>an(a.target.value),placeholder:"Detailed information about your shop, services, experience, etc...",rows:6})]})]}),(0,b.jsxs)(E.TabsContent,{value:"social",className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"Social Media & Website"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Connect your social media profiles"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"website",className:"flex items-center gap-2",children:[(0,b.jsx)(r.Globe,{className:"h-4 w-4"}),"Website"]}),(0,b.jsx)(f.Input,{id:"website",type:"url",value:ao.website,onChange:a=>ap({...ao,website:a.target.value}),placeholder:"https://yourshop.com"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"facebook",className:"flex items-center gap-2",children:[(0,b.jsx)(o.Facebook,{className:"h-4 w-4"}),"Facebook"]}),(0,b.jsx)(f.Input,{id:"facebook",type:"url",value:ao.facebook,onChange:a=>ap({...ao,facebook:a.target.value}),placeholder:"https://facebook.com/yourshop"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"instagram",className:"flex items-center gap-2",children:[(0,b.jsx)(p.Instagram,{className:"h-4 w-4"}),"Instagram"]}),(0,b.jsx)(f.Input,{id:"instagram",type:"url",value:ao.instagram,onChange:a=>ap({...ao,instagram:a.target.value}),placeholder:"https://instagram.com/yourshop"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"twitter",className:"flex items-center gap-2",children:[(0,b.jsx)(q.Twitter,{className:"h-4 w-4"}),"Twitter / X"]}),(0,b.jsx)(f.Input,{id:"twitter",type:"url",value:ao.twitter,onChange:a=>ap({...ao,twitter:a.target.value}),placeholder:"https://twitter.com/yourshop"})]})]})]}),(0,b.jsx)(E.TabsContent,{value:"business",className:"space-y-6",children:(0,b.jsxs)("div",{className:"space-y-4 rounded-lg border p-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Business Details"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Required for EU-based businesses"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"businessCountry",children:"Country"}),(0,b.jsxs)("select",{id:"businessCountry",value:R.businessCountry,onChange:a=>S({...R,businessCountry:a.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[(0,b.jsx)("option",{value:"",children:"Select country"}),F.map(a=>(0,b.jsx)("option",{value:a.code,children:a.name},a.code))]})]}),aE&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"businessType",children:"Business Type"}),(0,b.jsxs)("select",{id:"businessType",value:R.businessType,onChange:a=>S({...R,businessType:a.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[(0,b.jsx)("option",{value:"company",children:"Company"}),(0,b.jsx)("option",{value:"individual",children:"Individual/Sole Trader"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"businessName",children:"Legal Business Name *"}),(0,b.jsx)(f.Input,{id:"businessName",required:aE,value:R.businessName,onChange:a=>S({...R,businessName:a.target.value}),placeholder:"TechFix Solutions GmbH"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"vatNumber",children:"VAT Number *"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Input,{id:"vatNumber",required:aE,value:R.vatNumber,onChange:a=>S({...R,vatNumber:a.target.value}),placeholder:"DE123456789"}),(0,b.jsx)(e.Button,{type:"button",onClick:at,disabled:T.isValidating||!R.vatNumber,variant:"outline",children:T.isValidating?"Validating...":"Validate"})]}),T.message&&(0,b.jsxs)(A.Alert,{variant:T.isValid?"default":"destructive",children:[T.isValid?(0,b.jsx)(k.CheckCircle2,{className:"h-4 w-4"}):(0,b.jsx)(l.AlertCircle,{className:"h-4 w-4"}),(0,b.jsx)(A.AlertDescription,{children:T.message})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"companyRegistration",children:"Company Registration Number"}),(0,b.jsx)(f.Input,{id:"companyRegistration",value:R.companyRegistration,onChange:a=>S({...R,companyRegistration:a.target.value}),placeholder:"HRB 12345"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"businessAddress",children:"Registered Business Address *"}),(0,b.jsx)(f.Input,{id:"businessAddress",required:aE,value:R.businessAddress,onChange:a=>S({...R,businessAddress:a.target.value}),placeholder:"123 Business Street, City"})]})]})]})}),(0,b.jsxs)(E.TabsContent,{value:"booking",className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"Booking Preferences"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Configure how customers can book appointments with your shop"})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"maxBookingsPerDay",children:"Max Bookings Per Day"}),(0,b.jsx)(f.Input,{id:"maxBookingsPerDay",type:"number",min:"1",value:aq.max_bookings_per_day,onChange:a=>ar({...aq,max_bookings_per_day:parseInt(a.target.value)||10})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"maxBookingsPerSlot",children:"Max Bookings Per Time Slot"}),(0,b.jsx)(f.Input,{id:"maxBookingsPerSlot",type:"number",min:"1",value:aq.max_bookings_per_slot,onChange:a=>ar({...aq,max_bookings_per_slot:parseInt(a.target.value)||1})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"workingHoursStart",children:"Working Hours Start"}),(0,b.jsx)(f.Input,{id:"workingHoursStart",type:"time",value:aq.working_hours_start,onChange:a=>ar({...aq,working_hours_start:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"workingHoursEnd",children:"Working Hours End"}),(0,b.jsx)(f.Input,{id:"workingHoursEnd",type:"time",value:aq.working_hours_end,onChange:a=>ar({...aq,working_hours_end:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"slotDuration",children:"Slot Duration (minutes)"}),(0,b.jsx)(f.Input,{id:"slotDuration",type:"number",min:"15",step:"15",value:aq.slot_duration_minutes,onChange:a=>ar({...aq,slot_duration_minutes:parseInt(a.target.value)||30})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"bufferTime",children:"Buffer Time Between Bookings (minutes)"}),(0,b.jsx)(f.Input,{id:"bufferTime",type:"number",min:"0",value:aq.buffer_time_minutes,onChange:a=>ar({...aq,buffer_time_minutes:parseInt(a.target.value)||15})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"advanceBookingDays",children:"Advance Booking Limit (days)"}),(0,b.jsx)(f.Input,{id:"advanceBookingDays",type:"number",min:"1",value:aq.advance_booking_days,onChange:a=>ar({...aq,advance_booking_days:parseInt(a.target.value)||30})})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"sameDayBooking",children:"Allow Same-Day Bookings"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Allow customers to book appointments for today"})]}),(0,b.jsx)(B.Switch,{id:"sameDayBooking",checked:aq.same_day_booking_allowed,onCheckedChange:a=>ar({...aq,same_day_booking_allowed:a})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"autoConfirm",children:"Auto-Confirm Bookings"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Automatically confirm bookings without manual approval"})]}),(0,b.jsx)(B.Switch,{id:"autoConfirm",checked:aq.auto_confirm,onCheckedChange:a=>ar({...aq,auto_confirm:a})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"requirePhone",children:"Require Phone Number"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Make phone number mandatory for bookings"})]}),(0,b.jsx)(B.Switch,{id:"requirePhone",checked:aq.require_phone,onCheckedChange:a=>ar({...aq,require_phone:a})})]})]})]})]}),(0,b.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[J&&(0,b.jsx)("p",{className:"text-sm text-destructive mb-4",children:J}),L&&(0,b.jsx)("p",{className:"text-sm text-green-600 mb-4",children:"Shop saved successfully! Redirecting..."}),(0,b.jsx)(e.Button,{type:"submit",className:"w-full",disabled:H,children:H?"Saving...":t?"Update Shop":"Create Shop"})]})]})})]})]})})}a.s(["ShopSettings",()=>G],94891)}];

//# sourceMappingURL=components_shop-settings_tsx_556b8f4b._.js.map