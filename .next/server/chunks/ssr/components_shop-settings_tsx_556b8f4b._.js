module.exports=[94891,a=>{"use strict";var b=a.i(96974),c=a.i(37382),d=a.i(16590),e=a.i(3130),f=a.i(40695),g=a.i(5522),h=a.i(17171),i=a.i(46893),j=a.i(54161),k=a.i(64537),l=a.i(32267),m=a.i(69964),n=a.i(12582),o=a.i(97568),p=a.i(69411),q=a.i(61237);let r=(0,q.default)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),s=(0,q.default)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),t=(0,q.default)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);var u=a.i(70961),v=a.i(23702);let w=(0,q.default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),x=(0,q.default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),y=(0,q.default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var z=a.i(1556),A=a.i(19260),B=a.i(69240),C=a.i(55005),D=a.i(65602),E=a.i(80281),F=a.i(93735),G=a.i(56042),H=a.i(21958);let I=[{code:"AT",name:"Austria"},{code:"BE",name:"Belgium"},{code:"BG",name:"Bulgaria"},{code:"HR",name:"Croatia"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czech Republic"},{code:"DK",name:"Denmark"},{code:"EE",name:"Estonia"},{code:"FI",name:"Finland"},{code:"FR",name:"France"},{code:"DE",name:"Germany"},{code:"GR",name:"Greece"},{code:"HU",name:"Hungary"},{code:"IE",name:"Ireland"},{code:"IT",name:"Italy"},{code:"LV",name:"Latvia"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"MT",name:"Malta"},{code:"NL",name:"Netherlands"},{code:"PL",name:"Poland"},{code:"PT",name:"Portugal"},{code:"RO",name:"Romania"},{code:"SK",name:"Slovakia"},{code:"SI",name:"Slovenia"},{code:"ES",name:"Spain"},{code:"SE",name:"Sweden"}];function J({user:a,shop:q}){let J=(0,C.useRouter)(),[K,L]=(0,d.useState)(!1),[M,N]=(0,d.useState)(null),[O,P]=(0,d.useState)(!1),Q=(0,d.useRef)(null),R=(0,d.useRef)(null),[S,T]=(0,d.useState)({name:q?.name||"",email:q?.email||a.email||"",phone:q?.phone||"",address:q?.address||"",priceRange:q?.price_range||"$$",latitude:q?.latitude||null,longitude:q?.longitude||null}),[U,V]=(0,d.useState)({businessName:q?.business_name||"",vatNumber:q?.vat_number||"",companyRegistration:q?.company_registration||"",businessAddress:q?.business_address||"",businessCountry:q?.business_country||"",businessType:q?.business_type||"company"}),[W,X]=(0,d.useState)({isValidating:!1,isValid:q?.vat_validated||null,message:null,companyName:null}),[Y,Z]=(0,d.useState)(q?.expertise||[]),[$,_]=(0,d.useState)(""),{isLoaded:aa}=(0,F.useGoogleMaps)(),[ab,ac]=(0,d.useState)(q?.profile_image||null),[ad,ae]=(0,d.useState)(null),[af,ag]=(0,d.useState)(q?.profile_image||null),[ah,ai]=(0,d.useState)(q?.gallery_images||[]),[aj,ak]=(0,d.useState)([]),[al,am]=(0,d.useState)(q?.gallery_images||[]),[an,ao]=(0,d.useState)(q?.bio||""),[ap,aq]=(0,d.useState)(q?.description||""),[ar,as]=(0,d.useState)({facebook:q?.social_media?.facebook||"",instagram:q?.social_media?.instagram||"",twitter:q?.social_media?.twitter||"",website:q?.social_media?.website||""}),[at,au]=(0,d.useState)({max_bookings_per_day:q?.booking_preferences?.max_bookings_per_day||10,max_bookings_per_slot:q?.booking_preferences?.max_bookings_per_slot||1,working_hours_start:q?.booking_preferences?.working_hours?.start||"09:00",working_hours_end:q?.booking_preferences?.working_hours?.end||"17:00",slot_duration_minutes:q?.booking_preferences?.slot_duration_minutes||30,buffer_time_minutes:q?.booking_preferences?.buffer_time_minutes||15,advance_booking_days:q?.booking_preferences?.advance_booking_days||30,same_day_booking_allowed:q?.booking_preferences?.same_day_booking_allowed??!0,auto_confirm:q?.booking_preferences?.auto_confirm??!1,require_phone:q?.booking_preferences?.require_phone??!1});(0,d.useEffect)(()=>{aa&&window.google?.maps&&!R.current&&av()},[aa]);let av=()=>{Q.current&&window.google&&!R.current&&(R.current=new window.google.maps.places.Autocomplete(Q.current,{types:["address"],fields:["formatted_address","geometry"]}),R.current.addListener("place_changed",()=>{let a=R.current.getPlace();if(a.geometry&&a.geometry.location){let b=a.geometry.location.lat(),c=a.geometry.location.lng();T({...S,address:a.formatted_address||"",latitude:b,longitude:c})}}))},aw=async()=>{if(!U.vatNumber||!U.businessCountry)return void X({isValidating:!1,isValid:!1,message:"Please enter VAT number and select country",companyName:null});X({isValidating:!0,isValid:null,message:"Validating VAT number...",companyName:null});try{let a=await fetch("/api/validate-vat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vatNumber:U.vatNumber,countryCode:U.businessCountry})}),b=await a.json();b.valid?(X({isValidating:!1,isValid:!0,message:"VAT number validated successfully!",companyName:b.name||null}),b.name&&!U.businessName&&V({...U,businessName:b.name})):X({isValidating:!1,isValid:!1,message:b.error||"VAT number is invalid",companyName:null})}catch(a){X({isValidating:!1,isValid:!1,message:"Error validating VAT number. Please try again.",companyName:null})}},ax=()=>{$.trim()&&!Y.includes($.trim())&&(Z([...Y,$.trim()]),_(""))},ay=(0,d.useCallback)(a=>{let b=a[0];if(b){ae(b);let a=new FileReader;a.onloadend=()=>{ag(a.result)},a.readAsDataURL(b)}},[]),{getRootProps:az,getInputProps:aA,isDragActive:aB}=(0,G.useDropzone)({onDrop:ay,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},maxFiles:1,maxSize:5242880}),aC=(0,d.useCallback)(a=>{let b=10-al.length,c=a.slice(0,b);ak([...aj,...c]),c.forEach(a=>{let b=new FileReader;b.onloadend=()=>{am(a=>[...a,b.result])},b.readAsDataURL(a)})},[aj,al.length]),{getRootProps:aD,getInputProps:aE,isDragActive:aF}=(0,G.useDropzone)({onDrop:aC,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},maxFiles:10,maxSize:5242880}),aG=async b=>{b.preventDefault(),L(!0),N(null),P(!1);try{let b=(0,B.createClient)(),c=ab;if(ad){let d=ad.name.split(".").pop(),e=`profile-${Date.now()}-${Math.random().toString(36).substring(7)}.${d}`,f=`${a.id}/${e}`;if(ab&&ab.includes("shop-images")){let a=ab.split("/").slice(-2).join("/");await b.storage.from("shop-images").remove([a])}let{data:g,error:h}=await b.storage.from("shop-images").upload(f,ad,{contentType:ad.type,cacheControl:"3600",upsert:!0});if(h)console.error("Profile image upload error:",h);else{let{data:{publicUrl:a}}=b.storage.from("shop-images").getPublicUrl(f);c=a}}let d=[];for(let c of aj){let e=c.name.split(".").pop(),f=`gallery-${Date.now()}-${Math.random().toString(36).substring(7)}.${e}`,g=`${a.id}/${f}`,{data:h,error:i}=await b.storage.from("shop-images").upload(g,c,{contentType:c.type,cacheControl:"3600"});if(i)console.error("Gallery image upload error:",i);else{let{data:{publicUrl:a}}=b.storage.from("shop-images").getPublicUrl(g);d.push(a)}}let e={owner_id:a.id,name:S.name,email:S.email,phone:S.phone,address:S.address,latitude:S.latitude,longitude:S.longitude,price_range:S.priceRange,expertise:Y,business_name:U.businessName||null,vat_number:U.vatNumber||null,company_registration:U.companyRegistration||null,business_address:U.businessAddress||null,business_country:U.businessCountry||null,vat_validated:W.isValid||!1,business_type:U.businessType||null,profile_image:c,gallery_images:[...ah,...d],bio:an.trim()||null,description:ap.trim()||null,social_media:{facebook:ar.facebook.trim()||null,instagram:ar.instagram.trim()||null,twitter:ar.twitter.trim()||null,website:ar.website.trim()||null},booking_preferences:{max_bookings_per_day:at.max_bookings_per_day,max_bookings_per_slot:at.max_bookings_per_slot,working_hours:{start:at.working_hours_start,end:at.working_hours_end},slot_duration_minutes:at.slot_duration_minutes,buffer_time_minutes:at.buffer_time_minutes,advance_booking_days:at.advance_booking_days,same_day_booking_allowed:at.same_day_booking_allowed,auto_confirm:at.auto_confirm,require_phone:at.require_phone}};if(q){let{error:a}=await b.from("repair_shops").update(e).eq("id",q.id);if(a)throw a}else{let{error:a}=await b.from("repair_shops").insert(e);if(a)throw a}P(!0),setTimeout(()=>{J.push("/shop/dashboard"),J.refresh()},1500)}catch(a){N(a instanceof Error?a.message:"An error occurred")}finally{L(!1)}},aH=async()=>{let a=(0,B.createClient)();await a.auth.signOut(),J.push("/"),J.refresh()},aI=I.some(a=>a.code===U.businessCountry);return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,b.jsxs)("div",{className:"container mx-auto flex h-16 items-center justify-between px-4",children:[(0,b.jsx)(A.default,{href:"/",className:"flex items-center gap-2",children:(0,b.jsx)(c.default,{src:"/logo.png",alt:"FixWise Logo",width:180,height:60,className:"h-12 w-auto"})}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(A.default,{href:"/shop/dashboard",children:(0,b.jsx)(f.Button,{variant:"ghost",children:"Dashboard"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",onClick:aH,children:(0,b.jsx)(k.LogOut,{className:"h-4 w-4"})})]})]})}),(0,b.jsxs)("div",{className:"container mx-auto max-w-2xl px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"mb-2 text-3xl font-bold",children:"Shop Settings"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:q?"Update your shop information":"Create your shop profile"})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:q?"Edit Shop":"Create Shop"}),(0,b.jsx)(e.CardDescription,{children:"Manage your repair shop listing"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("form",{onSubmit:aG,children:[(0,b.jsxs)(H.Tabs,{defaultValue:"basic",className:"w-full",children:[(0,b.jsx)("div",{className:"overflow-x-auto -mx-4 px-4 mb-6",children:(0,b.jsxs)(H.TabsList,{className:"inline-flex w-auto min-w-full md:min-w-0",children:[(0,b.jsxs)(H.TabsTrigger,{value:"basic",className:"flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(v.Store,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Basic"})]}),(0,b.jsxs)(H.TabsTrigger,{value:"profile",className:"flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(p.Image,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Profile"})]}),(0,b.jsxs)(H.TabsTrigger,{value:"about",className:"flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(w,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"About"})]}),(0,b.jsxs)(H.TabsTrigger,{value:"social",className:"flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(x,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Social"})]}),(0,b.jsxs)(H.TabsTrigger,{value:"business",className:"flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(y,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Business"})]}),(0,b.jsxs)(H.TabsTrigger,{value:"booking",className:"flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(z.Calendar,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Booking"})]})]})}),(0,b.jsxs)(H.TabsContent,{value:"basic",className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"name",children:"Shop Name *"}),(0,b.jsx)(g.Input,{id:"name",required:!0,value:S.name,onChange:a=>T({...S,name:a.target.value}),placeholder:"TechFix Pro"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"email",children:"Email *"}),(0,b.jsx)(g.Input,{id:"email",type:"email",required:!0,value:S.email,onChange:a=>T({...S,email:a.target.value}),placeholder:"contact@techfix.com"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"phone",children:"Phone"}),(0,b.jsx)(g.Input,{id:"phone",type:"tel",value:S.phone,onChange:a=>T({...S,phone:a.target.value}),placeholder:"555-0123"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"address",children:"Address *"}),(0,b.jsx)(g.Input,{ref:Q,id:"address",required:!0,value:S.address,onChange:a=>T({...S,address:a.target.value}),placeholder:"Start typing your address...",autoComplete:"off"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Start typing and select from the dropdown to automatically set your location on the map"}),S.latitude&&S.longitude&&(0,b.jsxs)("p",{className:"text-xs text-green-600",children:["âœ“ Location set: ",S.latitude.toFixed(4),", ",S.longitude.toFixed(4)]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"priceRange",children:"Price Range"}),(0,b.jsxs)("select",{id:"priceRange",value:S.priceRange,onChange:a=>T({...S,priceRange:a.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[(0,b.jsx)("option",{value:"$",children:"$ - Budget"}),(0,b.jsx)("option",{value:"$$",children:"$$ - Moderate"}),(0,b.jsx)("option",{value:"$$$",children:"$$$ - Premium"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"expertise",children:"Expertise"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(g.Input,{id:"expertise",value:$,onChange:a=>_(a.target.value),placeholder:"e.g., Camera, Screen, Battery",onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),ax())}}),(0,b.jsx)(f.Button,{type:"button",onClick:ax,children:"Add"})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:Y.map(a=>(0,b.jsxs)(j.Badge,{variant:"secondary",className:"gap-1",children:[a,(0,b.jsx)("button",{type:"button",onClick:()=>{Z(Y.filter(b=>b!==a))},className:"ml-1",children:(0,b.jsx)(l.X,{className:"h-3 w-3"})})]},a))})]})]}),(0,b.jsxs)(H.TabsContent,{value:"profile",className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"Profile & Gallery"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Upload images to showcase your shop"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Profile Image"}),af?(0,b.jsxs)("div",{className:"relative inline-block",children:[(0,b.jsx)("img",{src:af,alt:"Profile preview",className:"h-32 w-32 rounded-lg object-cover border"}),(0,b.jsx)(f.Button,{type:"button",variant:"destructive",size:"icon",className:"absolute -right-2 -top-2 h-6 w-6",onClick:()=>{ac(null),ae(null),ag(null)},children:(0,b.jsx)(l.X,{className:"h-4 w-4"})})]}):(0,b.jsxs)("div",{...az(),className:`cursor-pointer rounded-lg border-2 border-dashed p-6 transition-colors ${aB?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50 hover:bg-muted/50"}`,children:[(0,b.jsx)("input",{...aA()}),(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 text-center",children:[(0,b.jsx)("div",{className:"rounded-full bg-primary/10 p-3",children:aB?(0,b.jsx)(o.Upload,{className:"h-6 w-6 text-primary"}):(0,b.jsx)(p.Image,{className:"h-6 w-6 text-primary"})}),aB?(0,b.jsx)("p",{className:"text-sm font-medium text-primary",children:"Drop image here"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("p",{className:"text-sm font-medium",children:[(0,b.jsx)("span",{className:"text-primary underline",children:"Click to upload"})," or drag and drop"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, GIF up to 5MB"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Gallery Images (up to 10)"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[al.map((a,c)=>(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("img",{src:a,alt:`Gallery ${c+1}`,className:"h-24 w-full rounded-lg object-cover border"}),(0,b.jsx)(f.Button,{type:"button",variant:"destructive",size:"icon",className:"absolute -right-2 -top-2 h-6 w-6",onClick:()=>(a=>{if(a<ah.length)ai(ah.filter((b,c)=>c!==a)),am(al.filter((b,c)=>c!==a));else{let b=a-ah.length;ak(aj.filter((a,c)=>c!==b)),am(al.filter((b,c)=>c!==a))}})(c),children:(0,b.jsx)(l.X,{className:"h-4 w-4"})})]},c)),al.length<10&&(0,b.jsxs)("div",{...aD(),className:`cursor-pointer rounded-lg border-2 border-dashed p-4 transition-colors h-24 flex items-center justify-center ${aF?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50 hover:bg-muted/50"}`,children:[(0,b.jsx)("input",{...aE()}),(0,b.jsx)("div",{className:"text-center",children:aF?(0,b.jsx)("p",{className:"text-xs font-medium text-primary",children:"Drop images"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Upload,{className:"h-4 w-4 mx-auto text-muted-foreground mb-1"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Add"})]})})]})]})]})]}),(0,b.jsxs)(H.TabsContent,{value:"about",className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"About Your Shop"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tell customers about your shop"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"bio",children:"Bio (Short Description)"}),(0,b.jsx)(i.Textarea,{id:"bio",value:an,onChange:a=>ao(a.target.value),placeholder:"A brief introduction to your shop...",rows:3,maxLength:200}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[an.length,"/200 characters"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"description",children:"Full Description"}),(0,b.jsx)(i.Textarea,{id:"description",value:ap,onChange:a=>aq(a.target.value),placeholder:"Detailed information about your shop, services, experience, etc...",rows:6})]})]}),(0,b.jsxs)(H.TabsContent,{value:"social",className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"Social Media & Website"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Connect your social media profiles"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(h.Label,{htmlFor:"website",className:"flex items-center gap-2",children:[(0,b.jsx)(u.Globe,{className:"h-4 w-4"}),"Website"]}),(0,b.jsx)(g.Input,{id:"website",type:"url",value:ar.website,onChange:a=>as({...ar,website:a.target.value}),placeholder:"https://yourshop.com"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(h.Label,{htmlFor:"facebook",className:"flex items-center gap-2",children:[(0,b.jsx)(r,{className:"h-4 w-4"}),"Facebook"]}),(0,b.jsx)(g.Input,{id:"facebook",type:"url",value:ar.facebook,onChange:a=>as({...ar,facebook:a.target.value}),placeholder:"https://facebook.com/yourshop"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(h.Label,{htmlFor:"instagram",className:"flex items-center gap-2",children:[(0,b.jsx)(s,{className:"h-4 w-4"}),"Instagram"]}),(0,b.jsx)(g.Input,{id:"instagram",type:"url",value:ar.instagram,onChange:a=>as({...ar,instagram:a.target.value}),placeholder:"https://instagram.com/yourshop"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(h.Label,{htmlFor:"twitter",className:"flex items-center gap-2",children:[(0,b.jsx)(t,{className:"h-4 w-4"}),"Twitter / X"]}),(0,b.jsx)(g.Input,{id:"twitter",type:"url",value:ar.twitter,onChange:a=>as({...ar,twitter:a.target.value}),placeholder:"https://twitter.com/yourshop"})]})]})]}),(0,b.jsx)(H.TabsContent,{value:"business",className:"space-y-6",children:(0,b.jsxs)("div",{className:"space-y-4 rounded-lg border p-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Business Details"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Required for EU-based businesses"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"businessCountry",children:"Country"}),(0,b.jsxs)("select",{id:"businessCountry",value:U.businessCountry,onChange:a=>V({...U,businessCountry:a.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[(0,b.jsx)("option",{value:"",children:"Select country"}),I.map(a=>(0,b.jsx)("option",{value:a.code,children:a.name},a.code))]})]}),aI&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"businessType",children:"Business Type"}),(0,b.jsxs)("select",{id:"businessType",value:U.businessType,onChange:a=>V({...U,businessType:a.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[(0,b.jsx)("option",{value:"company",children:"Company"}),(0,b.jsx)("option",{value:"individual",children:"Individual/Sole Trader"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"businessName",children:"Legal Business Name *"}),(0,b.jsx)(g.Input,{id:"businessName",required:aI,value:U.businessName,onChange:a=>V({...U,businessName:a.target.value}),placeholder:"TechFix Solutions GmbH"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"vatNumber",children:"VAT Number *"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(g.Input,{id:"vatNumber",required:aI,value:U.vatNumber,onChange:a=>V({...U,vatNumber:a.target.value}),placeholder:"DE123456789"}),(0,b.jsx)(f.Button,{type:"button",onClick:aw,disabled:W.isValidating||!U.vatNumber,variant:"outline",children:W.isValidating?"Validating...":"Validate"})]}),W.message&&(0,b.jsxs)(D.Alert,{variant:W.isValid?"default":"destructive",children:[W.isValid?(0,b.jsx)(m.CheckCircle2,{className:"h-4 w-4"}):(0,b.jsx)(n.AlertCircle,{className:"h-4 w-4"}),(0,b.jsx)(D.AlertDescription,{children:W.message})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"companyRegistration",children:"Company Registration Number"}),(0,b.jsx)(g.Input,{id:"companyRegistration",value:U.companyRegistration,onChange:a=>V({...U,companyRegistration:a.target.value}),placeholder:"HRB 12345"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"businessAddress",children:"Registered Business Address *"}),(0,b.jsx)(g.Input,{id:"businessAddress",required:aI,value:U.businessAddress,onChange:a=>V({...U,businessAddress:a.target.value}),placeholder:"123 Business Street, City"})]})]})]})}),(0,b.jsxs)(H.TabsContent,{value:"booking",className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"Booking Preferences"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Configure how customers can book appointments with your shop"})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"maxBookingsPerDay",children:"Max Bookings Per Day"}),(0,b.jsx)(g.Input,{id:"maxBookingsPerDay",type:"number",min:"1",value:at.max_bookings_per_day,onChange:a=>au({...at,max_bookings_per_day:parseInt(a.target.value)||10})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"maxBookingsPerSlot",children:"Max Bookings Per Time Slot"}),(0,b.jsx)(g.Input,{id:"maxBookingsPerSlot",type:"number",min:"1",value:at.max_bookings_per_slot,onChange:a=>au({...at,max_bookings_per_slot:parseInt(a.target.value)||1})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"workingHoursStart",children:"Working Hours Start"}),(0,b.jsx)(g.Input,{id:"workingHoursStart",type:"time",value:at.working_hours_start,onChange:a=>au({...at,working_hours_start:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"workingHoursEnd",children:"Working Hours End"}),(0,b.jsx)(g.Input,{id:"workingHoursEnd",type:"time",value:at.working_hours_end,onChange:a=>au({...at,working_hours_end:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"slotDuration",children:"Slot Duration (minutes)"}),(0,b.jsx)(g.Input,{id:"slotDuration",type:"number",min:"15",step:"15",value:at.slot_duration_minutes,onChange:a=>au({...at,slot_duration_minutes:parseInt(a.target.value)||30})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"bufferTime",children:"Buffer Time Between Bookings (minutes)"}),(0,b.jsx)(g.Input,{id:"bufferTime",type:"number",min:"0",value:at.buffer_time_minutes,onChange:a=>au({...at,buffer_time_minutes:parseInt(a.target.value)||15})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"advanceBookingDays",children:"Advance Booking Limit (days)"}),(0,b.jsx)(g.Input,{id:"advanceBookingDays",type:"number",min:"1",value:at.advance_booking_days,onChange:a=>au({...at,advance_booking_days:parseInt(a.target.value)||30})})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"sameDayBooking",children:"Allow Same-Day Bookings"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Allow customers to book appointments for today"})]}),(0,b.jsx)(E.Switch,{id:"sameDayBooking",checked:at.same_day_booking_allowed,onCheckedChange:a=>au({...at,same_day_booking_allowed:a})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"autoConfirm",children:"Auto-Confirm Bookings"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Automatically confirm bookings without manual approval"})]}),(0,b.jsx)(E.Switch,{id:"autoConfirm",checked:at.auto_confirm,onCheckedChange:a=>au({...at,auto_confirm:a})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"requirePhone",children:"Require Phone Number"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Make phone number mandatory for bookings"})]}),(0,b.jsx)(E.Switch,{id:"requirePhone",checked:at.require_phone,onCheckedChange:a=>au({...at,require_phone:a})})]})]})]})]}),(0,b.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[M&&(0,b.jsx)("p",{className:"text-sm text-destructive mb-4",children:M}),O&&(0,b.jsx)("p",{className:"text-sm text-green-600 mb-4",children:"Shop saved successfully! Redirecting..."}),(0,b.jsx)(f.Button,{type:"submit",className:"w-full",disabled:K,children:K?"Saving...":q?"Update Shop":"Create Shop"})]})]})})]})]})]})}a.s(["ShopSettings",()=>J],94891)}];

//# sourceMappingURL=components_shop-settings_tsx_556b8f4b._.js.map