module.exports=[94891,a=>{"use strict";var b=a.i(96974),c=a.i(16590),d=a.i(3130),e=a.i(40695),f=a.i(5522),g=a.i(17171),h=a.i(46893),i=a.i(54161),j=a.i(32267),k=a.i(69964),l=a.i(12582),m=a.i(97568),n=a.i(69411),o=a.i(59441),p=a.i(40762),q=a.i(20085),r=a.i(70961),s=a.i(23702),t=a.i(70854),u=a.i(61237);let v=(0,u.default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),w=(0,u.default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var x=a.i(1556),y=a.i(19260),z=a.i(69240),A=a.i(55005),B=a.i(65602),C=a.i(80281),D=a.i(93735),E=a.i(56042),F=a.i(21958);let G=[{code:"AT",name:"Austria"},{code:"BE",name:"Belgium"},{code:"BG",name:"Bulgaria"},{code:"HR",name:"Croatia"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czech Republic"},{code:"DK",name:"Denmark"},{code:"EE",name:"Estonia"},{code:"FI",name:"Finland"},{code:"FR",name:"France"},{code:"DE",name:"Germany"},{code:"GR",name:"Greece"},{code:"HU",name:"Hungary"},{code:"IE",name:"Ireland"},{code:"IT",name:"Italy"},{code:"LV",name:"Latvia"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"MT",name:"Malta"},{code:"NL",name:"Netherlands"},{code:"PL",name:"Poland"},{code:"PT",name:"Portugal"},{code:"RO",name:"Romania"},{code:"SK",name:"Slovakia"},{code:"SI",name:"Slovenia"},{code:"ES",name:"Spain"},{code:"SE",name:"Sweden"}];function H({user:a,shop:u,isAdmin:H=!1}){let I=(0,A.useRouter)(),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)(!1),P=(0,c.useRef)(null),Q=(0,c.useRef)(null),[R,S]=(0,c.useState)({name:u?.name||"",email:u?.email||a.email||"",phone:u?.phone||"",address:u?.address||"",priceRange:u?.price_range||"$$",latitude:u?.latitude||null,longitude:u?.longitude||null}),[T,U]=(0,c.useState)({businessName:u?.business_name||"",vatNumber:u?.vat_number||"",companyRegistration:u?.company_registration||"",businessAddress:u?.business_address||"",businessCountry:u?.business_country||"",businessType:u?.business_type||"company"}),[V,W]=(0,c.useState)({isValidating:!1,isValid:u?.vat_validated||null,message:null,companyName:null}),[X,Y]=(0,c.useState)(u?.expertise||[]),[Z,$]=(0,c.useState)(""),{isLoaded:_}=(0,D.useGoogleMaps)(),[aa,ab]=(0,c.useState)(u?.profile_image||null),[ac,ad]=(0,c.useState)(null),[ae,af]=(0,c.useState)(u?.profile_image||null),[ag,ah]=(0,c.useState)(u?.gallery_images||[]),[ai,aj]=(0,c.useState)([]),[ak,al]=(0,c.useState)(u?.gallery_images||[]),[am,an]=(0,c.useState)(u?.bio||""),[ao,ap]=(0,c.useState)(u?.description||""),[aq,ar]=(0,c.useState)({facebook:u?.social_media?.facebook||"",instagram:u?.social_media?.instagram||"",twitter:u?.social_media?.twitter||"",website:u?.social_media?.website||""}),[as,at]=(0,c.useState)({max_bookings_per_day:u?.booking_preferences?.max_bookings_per_day||10,max_bookings_per_slot:u?.booking_preferences?.max_bookings_per_slot||1,working_hours_start:u?.booking_preferences?.working_hours?.start||"09:00",working_hours_end:u?.booking_preferences?.working_hours?.end||"17:00",slot_duration_minutes:u?.booking_preferences?.slot_duration_minutes||30,buffer_time_minutes:u?.booking_preferences?.buffer_time_minutes||15,advance_booking_days:u?.booking_preferences?.advance_booking_days||30,same_day_booking_allowed:u?.booking_preferences?.same_day_booking_allowed??!0,auto_confirm:u?.booking_preferences?.auto_confirm??!1,require_phone:u?.booking_preferences?.require_phone??!1,delivery_pickup_fee:u?.booking_preferences?.delivery_pricing?.pickup||0,delivery_home_fee:u?.booking_preferences?.delivery_pricing?.home||15,delivery_mail_fee:u?.booking_preferences?.delivery_pricing?.mail||25});(0,c.useEffect)(()=>{_&&window.google?.maps&&!Q.current&&au()},[_]);let au=()=>{P.current&&window.google&&!Q.current&&(Q.current=new window.google.maps.places.Autocomplete(P.current,{types:["address"],fields:["formatted_address","geometry"]}),Q.current.addListener("place_changed",()=>{let a=Q.current.getPlace();if(a.geometry&&a.geometry.location){let b=a.geometry.location.lat(),c=a.geometry.location.lng();S({...R,address:a.formatted_address||"",latitude:b,longitude:c})}}))},av=async()=>{if(!T.vatNumber||!T.businessCountry)return void W({isValidating:!1,isValid:!1,message:"Please enter VAT number and select country",companyName:null});W({isValidating:!0,isValid:null,message:"Validating VAT number...",companyName:null});try{let a=await fetch("/api/validate-vat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vatNumber:T.vatNumber,countryCode:T.businessCountry})}),b=await a.json();b.valid?(W({isValidating:!1,isValid:!0,message:"VAT number validated successfully!",companyName:b.name||null}),b.name&&!T.businessName&&U({...T,businessName:b.name})):W({isValidating:!1,isValid:!1,message:b.error||"VAT number is invalid",companyName:null})}catch(a){W({isValidating:!1,isValid:!1,message:"Error validating VAT number. Please try again.",companyName:null})}},aw=()=>{Z.trim()&&!X.includes(Z.trim())&&(Y([...X,Z.trim()]),$(""))},ax=(0,c.useCallback)(a=>{let b=a[0];if(b){ad(b);let a=new FileReader;a.onloadend=()=>{af(a.result)},a.readAsDataURL(b)}},[]),{getRootProps:ay,getInputProps:az,isDragActive:aA}=(0,E.useDropzone)({onDrop:ax,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},maxFiles:1,maxSize:5242880}),aB=(0,c.useCallback)(a=>{let b=10-ak.length,c=a.slice(0,b);aj([...ai,...c]),c.forEach(a=>{let b=new FileReader;b.onloadend=()=>{al(a=>[...a,b.result])},b.readAsDataURL(a)})},[ai,ak.length]),{getRootProps:aC,getInputProps:aD,isDragActive:aE}=(0,E.useDropzone)({onDrop:aB,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},maxFiles:10,maxSize:5242880}),aF=async b=>{b.preventDefault(),K(!0),M(null),O(!1);try{let b=(0,z.createClient)(),c=aa;if(ac){let d=ac.name.split(".").pop(),e=`profile-${Date.now()}-${Math.random().toString(36).substring(7)}.${d}`,f=`${a.id}/${e}`;if(aa&&aa.includes("shop-images")){let a=aa.split("/").slice(-2).join("/");await b.storage.from("shop-images").remove([a])}let{data:g,error:h}=await b.storage.from("shop-images").upload(f,ac,{contentType:ac.type,cacheControl:"3600",upsert:!0});if(h)console.error("Profile image upload error:",h);else{let{data:{publicUrl:a}}=b.storage.from("shop-images").getPublicUrl(f);c=a}}let d=[];for(let c of ai){let e=c.name.split(".").pop(),f=`gallery-${Date.now()}-${Math.random().toString(36).substring(7)}.${e}`,g=`${a.id}/${f}`,{data:h,error:i}=await b.storage.from("shop-images").upload(g,c,{contentType:c.type,cacheControl:"3600"});if(i)console.error("Gallery image upload error:",i);else{let{data:{publicUrl:a}}=b.storage.from("shop-images").getPublicUrl(g);d.push(a)}}let e={owner_id:a.id,name:R.name,email:R.email,phone:R.phone,address:R.address,latitude:R.latitude,longitude:R.longitude,price_range:R.priceRange,expertise:X,business_name:T.businessName||null,vat_number:T.vatNumber||null,company_registration:T.companyRegistration||null,business_address:T.businessAddress||null,business_country:T.businessCountry||null,vat_validated:V.isValid||!1,business_type:T.businessType||null,profile_image:c,gallery_images:[...ag,...d],bio:am.trim()||null,description:ao.trim()||null,social_media:{facebook:aq.facebook.trim()||null,instagram:aq.instagram.trim()||null,twitter:aq.twitter.trim()||null,website:aq.website.trim()||null},booking_preferences:{max_bookings_per_day:as.max_bookings_per_day,max_bookings_per_slot:as.max_bookings_per_slot,working_hours:{start:as.working_hours_start,end:as.working_hours_end},slot_duration_minutes:as.slot_duration_minutes,buffer_time_minutes:as.buffer_time_minutes,advance_booking_days:as.advance_booking_days,same_day_booking_allowed:as.same_day_booking_allowed,auto_confirm:as.auto_confirm,require_phone:as.require_phone,delivery_pricing:{pickup:as.delivery_pickup_fee||0,home:as.delivery_home_fee||15,mail:as.delivery_mail_fee||25}}};if(u){let{error:a}=await b.from("repair_shops").update(e).eq("id",u.id);if(a)throw a}else{let{error:a}=await b.from("repair_shops").insert(e);if(a)throw a}O(!0),setTimeout(()=>{H?I.push("/admin"):I.push("/shop/dashboard"),I.refresh()},1500)}catch(a){M(a instanceof Error?a.message:"An error occurred")}finally{K(!1)}},aG=G.some(a=>a.code===T.businessCountry);return(0,b.jsx)("div",{className:"min-h-screen bg-background",children:(0,b.jsxs)("div",{className:"container mx-auto max-w-2xl px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"mb-2 text-3xl font-bold",children:"Shop Settings"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:u?"Update your shop information":"Create your shop profile"})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(d.CardTitle,{children:u?"Edit Shop":"Create Shop"}),(0,b.jsx)(d.CardDescription,{children:H?`Managing settings for ${u?.name||"shop"}`:"Manage your repair shop listing"})]}),H&&(0,b.jsx)(y.default,{href:"/admin",children:(0,b.jsx)(e.Button,{variant:"outline",size:"sm",children:"Back to Admin"})})]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("form",{onSubmit:aF,children:[(0,b.jsxs)(F.Tabs,{defaultValue:"basic",className:"w-full",children:[(0,b.jsx)("div",{className:"overflow-x-auto -mx-4 px-4 mb-6",children:(0,b.jsxs)(F.TabsList,{className:"inline-flex w-auto min-w-full md:min-w-0",children:[(0,b.jsxs)(F.TabsTrigger,{value:"basic",className:"flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(s.Store,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Basic"})]}),(0,b.jsxs)(F.TabsTrigger,{value:"profile",className:"flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(n.Image,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Profile"})]}),(0,b.jsxs)(F.TabsTrigger,{value:"about",className:"flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(t.FileText,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"About"})]}),(0,b.jsxs)(F.TabsTrigger,{value:"social",className:"flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(v,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Social"})]}),(0,b.jsxs)(F.TabsTrigger,{value:"business",className:"flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(w,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Business"})]}),(0,b.jsxs)(F.TabsTrigger,{value:"booking",className:"flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(x.Calendar,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Booking"})]})]})}),(0,b.jsxs)(F.TabsContent,{value:"basic",className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"name",children:"Shop Name *"}),(0,b.jsx)(f.Input,{id:"name",required:!0,value:R.name,onChange:a=>S({...R,name:a.target.value}),placeholder:"TechFix Pro"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"email",children:"Email *"}),(0,b.jsx)(f.Input,{id:"email",type:"email",required:!0,value:R.email,onChange:a=>S({...R,email:a.target.value}),placeholder:"contact@techfix.com"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"phone",children:"Phone"}),(0,b.jsx)(f.Input,{id:"phone",type:"tel",value:R.phone,onChange:a=>S({...R,phone:a.target.value}),placeholder:"555-0123"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"address",children:"Address *"}),(0,b.jsx)(f.Input,{ref:P,id:"address",required:!0,value:R.address,onChange:a=>S({...R,address:a.target.value}),placeholder:"Start typing your address...",autoComplete:"off"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Start typing and select from the dropdown to automatically set your location on the map"}),R.latitude&&R.longitude&&(0,b.jsxs)("p",{className:"text-xs text-green-600",children:["âœ“ Location set: ",R.latitude.toFixed(4),", ",R.longitude.toFixed(4)]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"priceRange",children:"Price Range"}),(0,b.jsxs)("select",{id:"priceRange",value:R.priceRange,onChange:a=>S({...R,priceRange:a.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[(0,b.jsx)("option",{value:"$",children:"$ - Budget"}),(0,b.jsx)("option",{value:"$$",children:"$$ - Moderate"}),(0,b.jsx)("option",{value:"$$$",children:"$$$ - Premium"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"expertise",children:"Expertise"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Input,{id:"expertise",value:Z,onChange:a=>$(a.target.value),placeholder:"e.g., Camera, Screen, Battery",onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),aw())}}),(0,b.jsx)(e.Button,{type:"button",onClick:aw,children:"Add"})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:X.map(a=>(0,b.jsxs)(i.Badge,{variant:"secondary",className:"gap-1",children:[a,(0,b.jsx)("button",{type:"button",onClick:()=>{Y(X.filter(b=>b!==a))},className:"ml-1",children:(0,b.jsx)(j.X,{className:"h-3 w-3"})})]},a))})]})]}),(0,b.jsxs)(F.TabsContent,{value:"profile",className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"Profile & Gallery"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Upload images to showcase your shop"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Profile Image"}),ae?(0,b.jsxs)("div",{className:"relative inline-block",children:[(0,b.jsx)("img",{src:ae,alt:"Profile preview",className:"h-32 w-32 rounded-lg object-cover border"}),(0,b.jsx)(e.Button,{type:"button",variant:"destructive",size:"icon",className:"absolute -right-2 -top-2 h-6 w-6",onClick:()=>{ab(null),ad(null),af(null)},children:(0,b.jsx)(j.X,{className:"h-4 w-4"})})]}):(0,b.jsxs)("div",{...ay(),className:`cursor-pointer rounded-lg border-2 border-dashed p-6 transition-colors ${aA?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50 hover:bg-muted/50"}`,children:[(0,b.jsx)("input",{...az()}),(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 text-center",children:[(0,b.jsx)("div",{className:"rounded-full bg-primary/10 p-3",children:aA?(0,b.jsx)(m.Upload,{className:"h-6 w-6 text-primary"}):(0,b.jsx)(n.Image,{className:"h-6 w-6 text-primary"})}),aA?(0,b.jsx)("p",{className:"text-sm font-medium text-primary",children:"Drop image here"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("p",{className:"text-sm font-medium",children:[(0,b.jsx)("span",{className:"text-primary underline",children:"Click to upload"})," or drag and drop"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, GIF up to 5MB"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Gallery Images (up to 10)"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[ak.map((a,c)=>(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("img",{src:a,alt:`Gallery ${c+1}`,className:"h-24 w-full rounded-lg object-cover border"}),(0,b.jsx)(e.Button,{type:"button",variant:"destructive",size:"icon",className:"absolute -right-2 -top-2 h-6 w-6",onClick:()=>(a=>{if(a<ag.length)ah(ag.filter((b,c)=>c!==a)),al(ak.filter((b,c)=>c!==a));else{let b=a-ag.length;aj(ai.filter((a,c)=>c!==b)),al(ak.filter((b,c)=>c!==a))}})(c),children:(0,b.jsx)(j.X,{className:"h-4 w-4"})})]},c)),ak.length<10&&(0,b.jsxs)("div",{...aC(),className:`cursor-pointer rounded-lg border-2 border-dashed p-4 transition-colors h-24 flex items-center justify-center ${aE?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50 hover:bg-muted/50"}`,children:[(0,b.jsx)("input",{...aD()}),(0,b.jsx)("div",{className:"text-center",children:aE?(0,b.jsx)("p",{className:"text-xs font-medium text-primary",children:"Drop images"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Upload,{className:"h-4 w-4 mx-auto text-muted-foreground mb-1"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Add"})]})})]})]})]})]}),(0,b.jsxs)(F.TabsContent,{value:"about",className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"About Your Shop"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tell customers about your shop"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"bio",children:"Bio (Short Description)"}),(0,b.jsx)(h.Textarea,{id:"bio",value:am,onChange:a=>an(a.target.value),placeholder:"A brief introduction to your shop...",rows:3,maxLength:200}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[am.length,"/200 characters"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"description",children:"Full Description"}),(0,b.jsx)(h.Textarea,{id:"description",value:ao,onChange:a=>ap(a.target.value),placeholder:"Detailed information about your shop, services, experience, etc...",rows:6})]})]}),(0,b.jsxs)(F.TabsContent,{value:"social",className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"Social Media & Website"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Connect your social media profiles"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"website",className:"flex items-center gap-2",children:[(0,b.jsx)(r.Globe,{className:"h-4 w-4"}),"Website"]}),(0,b.jsx)(f.Input,{id:"website",type:"url",value:aq.website,onChange:a=>ar({...aq,website:a.target.value}),placeholder:"https://yourshop.com"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"facebook",className:"flex items-center gap-2",children:[(0,b.jsx)(o.Facebook,{className:"h-4 w-4"}),"Facebook"]}),(0,b.jsx)(f.Input,{id:"facebook",type:"url",value:aq.facebook,onChange:a=>ar({...aq,facebook:a.target.value}),placeholder:"https://facebook.com/yourshop"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"instagram",className:"flex items-center gap-2",children:[(0,b.jsx)(p.Instagram,{className:"h-4 w-4"}),"Instagram"]}),(0,b.jsx)(f.Input,{id:"instagram",type:"url",value:aq.instagram,onChange:a=>ar({...aq,instagram:a.target.value}),placeholder:"https://instagram.com/yourshop"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"twitter",className:"flex items-center gap-2",children:[(0,b.jsx)(q.Twitter,{className:"h-4 w-4"}),"Twitter / X"]}),(0,b.jsx)(f.Input,{id:"twitter",type:"url",value:aq.twitter,onChange:a=>ar({...aq,twitter:a.target.value}),placeholder:"https://twitter.com/yourshop"})]})]})]}),(0,b.jsx)(F.TabsContent,{value:"business",className:"space-y-6",children:(0,b.jsxs)("div",{className:"space-y-4 rounded-lg border p-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Business Details"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Required for EU-based businesses"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"businessCountry",children:"Country"}),(0,b.jsxs)("select",{id:"businessCountry",value:T.businessCountry,onChange:a=>U({...T,businessCountry:a.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[(0,b.jsx)("option",{value:"",children:"Select country"}),G.map(a=>(0,b.jsx)("option",{value:a.code,children:a.name},a.code))]})]}),aG&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"businessType",children:"Business Type"}),(0,b.jsxs)("select",{id:"businessType",value:T.businessType,onChange:a=>U({...T,businessType:a.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[(0,b.jsx)("option",{value:"company",children:"Company"}),(0,b.jsx)("option",{value:"individual",children:"Individual/Sole Trader"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"businessName",children:"Legal Business Name *"}),(0,b.jsx)(f.Input,{id:"businessName",required:aG,value:T.businessName,onChange:a=>U({...T,businessName:a.target.value}),placeholder:"TechFix Solutions GmbH"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"vatNumber",children:"VAT Number *"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Input,{id:"vatNumber",required:aG,value:T.vatNumber,onChange:a=>U({...T,vatNumber:a.target.value}),placeholder:"DE123456789"}),(0,b.jsx)(e.Button,{type:"button",onClick:av,disabled:V.isValidating||!T.vatNumber,variant:"outline",children:V.isValidating?"Validating...":"Validate"})]}),V.message&&(0,b.jsxs)(B.Alert,{variant:V.isValid?"default":"destructive",children:[V.isValid?(0,b.jsx)(k.CheckCircle2,{className:"h-4 w-4"}):(0,b.jsx)(l.AlertCircle,{className:"h-4 w-4"}),(0,b.jsx)(B.AlertDescription,{children:V.message})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"companyRegistration",children:"Company Registration Number"}),(0,b.jsx)(f.Input,{id:"companyRegistration",value:T.companyRegistration,onChange:a=>U({...T,companyRegistration:a.target.value}),placeholder:"HRB 12345"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"businessAddress",children:"Registered Business Address *"}),(0,b.jsx)(f.Input,{id:"businessAddress",required:aG,value:T.businessAddress,onChange:a=>U({...T,businessAddress:a.target.value}),placeholder:"123 Business Street, City"})]})]})]})}),(0,b.jsxs)(F.TabsContent,{value:"booking",className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"Booking Preferences"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Configure how customers can book appointments with your shop"})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"maxBookingsPerDay",children:"Max Bookings Per Day"}),(0,b.jsx)(f.Input,{id:"maxBookingsPerDay",type:"number",min:"1",value:as.max_bookings_per_day,onChange:a=>at({...as,max_bookings_per_day:parseInt(a.target.value)||10})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"maxBookingsPerSlot",children:"Max Bookings Per Time Slot"}),(0,b.jsx)(f.Input,{id:"maxBookingsPerSlot",type:"number",min:"1",value:as.max_bookings_per_slot,onChange:a=>at({...as,max_bookings_per_slot:parseInt(a.target.value)||1})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"workingHoursStart",children:"Working Hours Start"}),(0,b.jsx)(f.Input,{id:"workingHoursStart",type:"time",value:as.working_hours_start,onChange:a=>at({...as,working_hours_start:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"workingHoursEnd",children:"Working Hours End"}),(0,b.jsx)(f.Input,{id:"workingHoursEnd",type:"time",value:as.working_hours_end,onChange:a=>at({...as,working_hours_end:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"slotDuration",children:"Slot Duration (minutes)"}),(0,b.jsx)(f.Input,{id:"slotDuration",type:"number",min:"15",step:"15",value:as.slot_duration_minutes,onChange:a=>at({...as,slot_duration_minutes:parseInt(a.target.value)||30})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"bufferTime",children:"Buffer Time Between Bookings (minutes)"}),(0,b.jsx)(f.Input,{id:"bufferTime",type:"number",min:"0",value:as.buffer_time_minutes,onChange:a=>at({...as,buffer_time_minutes:parseInt(a.target.value)||15})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"advanceBookingDays",children:"Advance Booking Limit (days)"}),(0,b.jsx)(f.Input,{id:"advanceBookingDays",type:"number",min:"1",value:as.advance_booking_days,onChange:a=>at({...as,advance_booking_days:parseInt(a.target.value)||30})})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"sameDayBooking",children:"Allow Same-Day Bookings"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Allow customers to book appointments for today"})]}),(0,b.jsx)(C.Switch,{id:"sameDayBooking",checked:as.same_day_booking_allowed,onCheckedChange:a=>at({...as,same_day_booking_allowed:a})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"autoConfirm",children:"Auto-Confirm Bookings"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Automatically confirm bookings without manual approval"})]}),(0,b.jsx)(C.Switch,{id:"autoConfirm",checked:as.auto_confirm,onCheckedChange:a=>at({...as,auto_confirm:a})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"requirePhone",children:"Require Phone Number"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Make phone number mandatory for bookings"})]}),(0,b.jsx)(C.Switch,{id:"requirePhone",checked:as.require_phone,onCheckedChange:a=>at({...as,require_phone:a})})]})]}),(0,b.jsxs)("div",{className:"mt-6 space-y-4 rounded-lg border p-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"mb-1 text-base font-semibold",children:"Delivery & Shipping Pricing"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Set pricing for different delivery options"})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"pickupFee",children:"Pickup at Store Fee ($)"}),(0,b.jsx)(f.Input,{id:"pickupFee",type:"number",min:"0",step:"0.01",value:as.delivery_pickup_fee,onChange:a=>at({...as,delivery_pickup_fee:parseFloat(a.target.value)||0})}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Usually $0 (free)"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"homeDeliveryFee",children:"Home Delivery Fee ($)"}),(0,b.jsx)(f.Input,{id:"homeDeliveryFee",type:"number",min:"0",step:"0.01",value:as.delivery_home_fee,onChange:a=>at({...as,delivery_home_fee:parseFloat(a.target.value)||15})}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Fee for home delivery service"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"mailFee",children:"Mail/Shipping Fee ($)"}),(0,b.jsx)(f.Input,{id:"mailFee",type:"number",min:"0",step:"0.01",value:as.delivery_mail_fee,onChange:a=>at({...as,delivery_mail_fee:parseFloat(a.target.value)||25})}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Fee for shipping by mail"})]})]})]})]})]}),(0,b.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[L&&(0,b.jsx)("p",{className:"text-sm text-destructive mb-4",children:L}),N&&(0,b.jsx)("p",{className:"text-sm text-green-600 mb-4",children:"Shop saved successfully! Redirecting..."}),(0,b.jsx)(e.Button,{type:"submit",className:"w-full",disabled:J,children:J?"Saving...":u?"Update Shop":"Create Shop"})]})]})})]})]})})}a.s(["ShopSettings",()=>H],94891)}];

//# sourceMappingURL=components_shop-settings_tsx_556b8f4b._.js.map