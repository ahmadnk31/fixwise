(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90768,e=>{"use strict";let t=(0,e.i(10965).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],90768)},35301,e=>{"use strict";let t=(0,e.i(10965).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],35301)},23750,e=>{"use strict";var t=e.i(23738),n=e.i(47163);function a({className:e,type:a,...r}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}e.s(["Input",()=>a])},74126,e=>{"use strict";var t=e.i(57645),n=e.i(41322),a=e.i(8372),r=e=>{var r;let s,o,{present:l,children:d}=e,c=function(e){var n,r;let[s,o]=t.useState(),l=t.useRef({}),d=t.useRef(e),c=t.useRef("none"),[u,m]=(n=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>r[e][t]??e,n));return t.useEffect(()=>{let e=i(l.current);c.current="mounted"===u?e:"none"},[u]),(0,a.useLayoutEffect)(()=>{let t=l.current,n=d.current;if(n!==e){let a=c.current,r=i(t);e?m("MOUNT"):"none"===r||t?.display==="none"?m("UNMOUNT"):n&&a!==r?m("ANIMATION_OUT"):m("UNMOUNT"),d.current=e}},[e,m]),(0,a.useLayoutEffect)(()=>{if(s){let e,t=s.ownerDocument.defaultView??window,n=n=>{let a=i(l.current).includes(n.animationName);if(n.target===s&&a&&(m("ANIMATION_END"),!d.current)){let n=s.style.animationFillMode;s.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=n)})}},a=e=>{e.target===s&&(c.current=i(l.current))};return s.addEventListener("animationstart",a),s.addEventListener("animationcancel",n),s.addEventListener("animationend",n),()=>{t.clearTimeout(e),s.removeEventListener("animationstart",a),s.removeEventListener("animationcancel",n),s.removeEventListener("animationend",n)}}m("ANIMATION_END")},[s,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:t.useCallback(e=>{e&&(l.current=getComputedStyle(e)),o(e)},[])}}(l),u="function"==typeof d?d({present:c.isPresent}):t.Children.only(d),m=(0,n.useComposedRefs)(c.ref,(r=u,(o=(s=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in s&&s.isReactWarning)?r.ref:(o=(s=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in s&&s.isReactWarning)?r.props.ref:r.props.ref||r.ref));return"function"==typeof d||c.isPresent?t.cloneElement(u,{ref:m}):null};function i(e){return e?.animationName||"none"}r.displayName="Presence",e.s(["Presence",()=>r])},84675,e=>{"use strict";let t=(0,e.i(10965).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],84675)},86591,e=>{"use strict";let t=(0,e.i(10965).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],86591)},38153,44874,e=>{"use strict";var t;let n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function a(e){return (t={})=>{let n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}let r={date:a({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:a({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:a({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},i={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function s(e){return(t,n)=>{let a;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,r=n?.width?String(n.width):t;a=e.formattingValues[r]||e.formattingValues[t]}else{let t=e.defaultWidth,r=n?.width?String(n.width):e.defaultWidth;a=e.values[r]||e.values[t]}return a[e.argumentCallback?e.argumentCallback(t):t]}}function o(e){return(t,n={})=>{let a,r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;let o=s[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}(l,e=>e.test(o)):function(e,t){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}(l,e=>e.test(o));return a=e.valueCallback?e.valueCallback(d):d,{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(o.length)}}}let l={code:"en-US",formatDistance:(e,t,a)=>{let r,i=n[e];if(r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),a?.addSuffix)if(a.comparison&&a.comparison>0)return"in "+r;else return r+" ago";return r},formatLong:r,formatRelative:(e,t,n,a)=>i[e],localize:{ordinalNumber:(e,t)=>{let n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:s({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:s({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:s({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:s({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:s({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(t={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,n={})=>{let a=e.match(t.matchPattern);if(!a)return null;let r=a[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];return{value:s=n.valueCallback?n.valueCallback(s):s,rest:e.slice(r.length)}}),era:o({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:o({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:o({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:o({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:o({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};e.s(["enUS",0,l],44874),e.s(["defaultLocale",0,l],38153)},92421,e=>{"use strict";let t={};function n(){return t}e.s(["getDefaultOptions",()=>n])},32713,11518,87122,16467,39392,e=>{"use strict";let t=Symbol.for("constructDateFrom");function n(e,n){return"function"==typeof e?e(n):e&&"object"==typeof e&&t in e?e[t](n):e instanceof Date?new e.constructor(n):new Date(n)}function a(e,t){return n(t||e,e)}function r(e){let t=a(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),e-n}function i(e,...t){let a=n.bind(null,e||t.find(e=>"object"==typeof e));return t.map(a)}e.s(["constructFromSymbol",0,t,"millisecondsInDay",0,864e5,"millisecondsInWeek",0,6048e5,"minutesInDay",0,1440,"minutesInMonth",0,43200],11518),e.s(["constructFrom",()=>n],87122),e.s(["toDate",()=>a],16467),e.s(["getTimezoneOffsetInMilliseconds",()=>r],32713),e.s(["normalizeDates",()=>i],39392)},30902,38416,70429,21127,54259,34867,69352,44318,66625,e=>{"use strict";var t=e.i(38153),n=e.i(92421),a=e.i(32713),r=e.i(39392),i=e.i(11518),s=e.i(16467);function o(e,t){let n=(0,s.toDate)(e,t?.in);return n.setHours(0,0,0,0),n}function l(e,t,n){let[s,l]=(0,r.normalizeDates)(n?.in,e,t),d=o(s),c=o(l);return Math.round((d-(0,a.getTimezoneOffsetInMilliseconds)(d)-(c-(0,a.getTimezoneOffsetInMilliseconds)(c)))/i.millisecondsInDay)}function d(e,t){let n=(0,s.toDate)(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function c(e,t){let a=(0,n.getDefaultOptions)(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,i=(0,s.toDate)(e,t?.in),o=i.getDay();return i.setDate(i.getDate()-(7*(o<r)+o-r)),i.setHours(0,0,0,0),i}function u(e,t){return c(e,{...t,weekStartsOn:1})}e.s(["startOfDay",()=>o],38416),e.s(["differenceInCalendarDays",()=>l],70429),e.s(["startOfYear",()=>d],21127),e.s(["startOfWeek",()=>c],54259),e.s(["startOfISOWeek",()=>u],34867);var m=e.i(87122);function h(e,t){let n=(0,s.toDate)(e,t?.in),a=n.getFullYear(),r=(0,m.constructFrom)(n,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);let i=u(r),o=(0,m.constructFrom)(n,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);let l=u(o);return n.getTime()>=i.getTime()?a+1:n.getTime()>=l.getTime()?a:a-1}function f(e,t){let n,a,r=(0,s.toDate)(e,t?.in);return Math.round((u(r)-(n=h(r,void 0),(a=(0,m.constructFrom)(r,0)).setFullYear(n,0,4),a.setHours(0,0,0,0),u(a)))/i.millisecondsInWeek)+1}function g(e,t){let a=(0,s.toDate)(e,t?.in),r=a.getFullYear(),i=(0,n.getDefaultOptions)(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=(0,m.constructFrom)(t?.in||e,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);let d=c(l,t),u=(0,m.constructFrom)(t?.in||e,0);u.setFullYear(r,0,o),u.setHours(0,0,0,0);let h=c(u,t);return+a>=+d?r+1:+a>=+h?r:r-1}function x(e,t){let a,r,o,l,d=(0,s.toDate)(e,t?.in);return Math.round((c(d,t)-(a=(0,n.getDefaultOptions)(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=g(d,t),(l=(0,m.constructFrom)(t?.in||d,0)).setFullYear(o,0,r),l.setHours(0,0,0,0),c(l,t)))/i.millisecondsInWeek)+1}function p(e,t){let n=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+n}e.s(["getISOWeek",()=>f],69352),e.s(["getWeek",()=>x],44318);let b={y(e,t){let n=e.getFullYear(),a=n>0?n:1-n;return p("yy"===t?a%100:a,t.length)},M(e,t){let n=e.getMonth();return"M"===t?String(n+1):p(n+1,2)},d:(e,t)=>p(e.getDate(),t.length),a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>p(e.getHours()%12||12,t.length),H:(e,t)=>p(e.getHours(),t.length),m:(e,t)=>p(e.getMinutes(),t.length),s:(e,t)=>p(e.getSeconds(),t.length),S(e,t){let n=t.length;return p(Math.trunc(e.getMilliseconds()*Math.pow(10,n-3)),t.length)}},w={G:function(e,t,n){let a=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if("yo"===t){let t=e.getFullYear();return n.ordinalNumber(t>0?t:1-t,{unit:"year"})}return b.y(e,t)},Y:function(e,t,n,a){let r=g(e,a),i=r>0?r:1-r;return"YY"===t?p(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):p(i,t.length)},R:function(e,t){return p(h(e),t.length)},u:function(e,t){return p(e.getFullYear(),t.length)},Q:function(e,t,n){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return p(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return p(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){let a=e.getMonth();switch(t){case"M":case"MM":return b.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){let a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return p(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){let r=x(e,a);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):p(r,t.length)},I:function(e,t,n){let a=f(e);return"Io"===t?n.ordinalNumber(a,{unit:"week"}):p(a,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):b.d(e,t)},D:function(e,t,n){let a,r=l(a=(0,s.toDate)(e,void 0),d(a))+1;return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):p(r,t.length)},E:function(e,t,n){let a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){let r=e.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return p(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){let r=e.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return p(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){let a=e.getDay(),r=0===a?7:a;switch(t){case"i":return String(r);case"ii":return p(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){let a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){let a,r=e.getHours();switch(a=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){let a,r=e.getHours();switch(a=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return b.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):b.H(e,t)},K:function(e,t,n){let a=e.getHours()%12;return"Ko"===t?n.ordinalNumber(a,{unit:"hour"}):p(a,t.length)},k:function(e,t,n){let a=e.getHours();return(0===a&&(a=24),"ko"===t)?n.ordinalNumber(a,{unit:"hour"}):p(a,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):b.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):b.s(e,t)},S:function(e,t){return b.S(e,t)},X:function(e,t,n){let a=e.getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return y(a);case"XXXX":case"XX":return j(a);default:return j(a,":")}},x:function(e,t,n){let a=e.getTimezoneOffset();switch(t){case"x":return y(a);case"xxxx":case"xx":return j(a);default:return j(a,":")}},O:function(e,t,n){let a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+v(a,":");default:return"GMT"+j(a,":")}},z:function(e,t,n){let a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+v(a,":");default:return"GMT"+j(a,":")}},t:function(e,t,n){return p(Math.trunc(e/1e3),t.length)},T:function(e,t,n){return p(+e,t.length)}};function v(e,t=""){let n=e>0?"-":"+",a=Math.abs(e),r=Math.trunc(a/60),i=a%60;return 0===i?n+String(r):n+String(r)+t+p(i,2)}function y(e,t){return e%60==0?(e>0?"-":"+")+p(Math.abs(e)/60,2):j(e,t)}function j(e,t=""){let n=Math.abs(e);return(e>0?"-":"+")+p(Math.trunc(n/60),2)+t+p(n%60,2)}let N=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},k=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},C={p:k,P:(e,t)=>{let n,a=e.match(/(P+)(p+)?/)||[],r=a[1],i=a[2];if(!i)return N(e,t);switch(r){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",N(r,t)).replace("{{time}}",k(i,t))}},M=/^D+$/,T=/^Y+$/,S=["D","DD","YY","YYYY"];function D(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}e.s(["isDate",()=>D],66625);let P=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,E=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,F=/^'([^]*?)'?$/,O=/''/g,L=/[a-zA-Z]/;function W(e,a,r){let i=(0,n.getDefaultOptions)(),o=r?.locale??i.locale??t.defaultLocale,l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,d=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,c=(0,s.toDate)(e,r?.in);if(!D(c)&&"number"!=typeof c||isNaN(+(0,s.toDate)(c)))throw RangeError("Invalid time value");let u=a.match(E).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,C[t])(e,o.formatLong):e}).join("").match(P).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t){var n;let t;return{isToken:!1,value:(t=(n=e).match(F))?t[1].replace(O,"'"):n}}if(w[t])return{isToken:!0,value:e};if(t.match(L))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});o.localize.preprocessor&&(u=o.localize.preprocessor(c,u));let m={firstWeekContainsDate:l,weekStartsOn:d,locale:o};return u.map(t=>{if(!t.isToken)return t.value;let n=t.value;return(!r?.useAdditionalWeekYearTokens&&T.test(n)||!r?.useAdditionalDayOfYearTokens&&M.test(n))&&function(e,t,n){var a,r,i;let s,o=(a=e,r=t,i=n,s="Y"===a[0]?"years":"days of the month",`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${r}\`) for formatting ${s} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`);if(console.warn(o),S.includes(e))throw RangeError(o)}(n,a,String(e)),(0,w[n[0]])(c,n,o.localize,m)}).join("")}e.s(["format",()=>W],30902)},5576,e=>{"use strict";let t=(0,e.i(10965).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],5576)},94179,e=>{"use strict";var t=e.i(23738),n=e.i(84739),a=e.i(94237),r=e.i(47163);let i=(0,a.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function s({className:e,variant:a,asChild:s=!1,...o}){let l=s?n.Slot:"span";return(0,t.jsx)(l,{"data-slot":"badge",className:(0,r.cn)(i({variant:a}),e),...o})}e.s(["Badge",()=>s])},55008,e=>{"use strict";let t=(0,e.i(10965).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["default",()=>t])},74679,e=>{"use strict";var t=e.i(55008);e.s(["Calendar",()=>t.default])},27341,e=>{"use strict";var t=e.i(23738),n=e.i(57645),a=e.i(78896),r=e.i(17534),i=e.i(59301),s=e.i(41322),o=e.i(47946),l=e.i(69756),d=e.i(15981),c=e.i(71585),u=e.i(46621),m="rovingFocusGroup.onEntryFocus",h={bubbles:!1,cancelable:!0},f="RovingFocusGroup",[g,x,p]=(0,i.createCollection)(f),[b,w]=(0,r.createContextScope)(f,[p]),[v,y]=b(f),j=n.forwardRef((e,n)=>(0,t.jsx)(g.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(g.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(N,{...e,ref:n})})}));j.displayName=f;var N=n.forwardRef((e,r)=>{let{__scopeRovingFocusGroup:i,orientation:o,loop:f=!1,dir:g,currentTabStopId:p,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:w,onEntryFocus:y,preventScrollOnEntryFocus:j=!1,...N}=e,k=n.useRef(null),C=(0,s.useComposedRefs)(r,k),M=(0,u.useDirection)(g),[S=null,D]=(0,c.useControllableState)({prop:p,defaultProp:b,onChange:w}),[P,E]=n.useState(!1),F=(0,d.useCallbackRef)(y),O=x(i),L=n.useRef(!1),[W,I]=n.useState(0);return n.useEffect(()=>{let e=k.current;if(e)return e.addEventListener(m,F),()=>e.removeEventListener(m,F)},[F]),(0,t.jsx)(v,{scope:i,orientation:o,dir:M,loop:f,currentTabStopId:S,onItemFocus:n.useCallback(e=>D(e),[D]),onItemShiftTab:n.useCallback(()=>E(!0),[]),onFocusableItemAdd:n.useCallback(()=>I(e=>e+1),[]),onFocusableItemRemove:n.useCallback(()=>I(e=>e-1),[]),children:(0,t.jsx)(l.Primitive.div,{tabIndex:P||0===W?-1:0,"data-orientation":o,...N,ref:C,style:{outline:"none",...e.style},onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,()=>{L.current=!0}),onFocus:(0,a.composeEventHandlers)(e.onFocus,e=>{let t=!L.current;if(e.target===e.currentTarget&&t&&!P){let t=new CustomEvent(m,h);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=O().filter(e=>e.focusable);T([e.find(e=>e.active),e.find(e=>e.id===S),...e].filter(Boolean).map(e=>e.ref.current),j)}}L.current=!1}),onBlur:(0,a.composeEventHandlers)(e.onBlur,()=>E(!1))})})}),k="RovingFocusGroupItem",C=n.forwardRef((e,r)=>{let{__scopeRovingFocusGroup:i,focusable:s=!0,active:d=!1,tabStopId:c,...u}=e,m=(0,o.useId)(),h=c||m,f=y(k,i),p=f.currentTabStopId===h,b=x(i),{onFocusableItemAdd:w,onFocusableItemRemove:v}=f;return n.useEffect(()=>{if(s)return w(),()=>v()},[s,w,v]),(0,t.jsx)(g.ItemSlot,{scope:i,id:h,focusable:s,active:d,children:(0,t.jsx)(l.Primitive.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...u,ref:r,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{s?f.onItemFocus(h):e.preventDefault()}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>f.onItemFocus(h)),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void f.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,n){var a;let r=(a=e.key,"rtl"!==n?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(r))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)))return M[r]}(e,f.orientation,f.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=b().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){var n,a;"prev"===t&&r.reverse();let i=r.indexOf(e.currentTarget);r=f.loop?(n=r,a=i+1,n.map((e,t)=>n[(a+t)%n.length])):r.slice(i+1)}setTimeout(()=>T(r))}})})})});C.displayName=k;var M={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function T(e,t=!1){let n=document.activeElement;for(let a of e)if(a===n||(a.focus({preventScroll:t}),document.activeElement!==n))return}var S=e.i(74126),D="Tabs",[P,E]=(0,r.createContextScope)(D,[w]),F=w(),[O,L]=P(D),W=n.forwardRef((e,n)=>{let{__scopeTabs:a,value:r,onValueChange:i,defaultValue:s,orientation:d="horizontal",dir:m,activationMode:h="automatic",...f}=e,g=(0,u.useDirection)(m),[x,p]=(0,c.useControllableState)({prop:r,onChange:i,defaultProp:s});return(0,t.jsx)(O,{scope:a,baseId:(0,o.useId)(),value:x,onValueChange:p,orientation:d,dir:g,activationMode:h,children:(0,t.jsx)(l.Primitive.div,{dir:g,"data-orientation":d,...f,ref:n})})});W.displayName=D;var I="TabsList",A=n.forwardRef((e,n)=>{let{__scopeTabs:a,loop:r=!0,...i}=e,s=L(I,a),o=F(a);return(0,t.jsx)(j,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:(0,t.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:n})})});A.displayName=I;var z="TabsTrigger",H=n.forwardRef((e,n)=>{let{__scopeTabs:r,value:i,disabled:s=!1,...o}=e,d=L(z,r),c=F(r),u=q(d.baseId,i),m=Y(d.baseId,i),h=i===d.value;return(0,t.jsx)(C,{asChild:!0,...c,focusable:!s,active:h,children:(0,t.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...o,ref:n,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(i)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(i)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==d.activationMode;h||s||!e||d.onValueChange(i)})})})});H.displayName=z;var _="TabsContent",R=n.forwardRef((e,a)=>{let{__scopeTabs:r,value:i,forceMount:s,children:o,...d}=e,c=L(_,r),u=q(c.baseId,i),m=Y(c.baseId,i),h=i===c.value,f=n.useRef(h);return n.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(S.Presence,{present:s||h,children:({present:n})=>(0,t.jsx)(l.Primitive.div,{"data-state":h?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!n,id:m,tabIndex:0,...d,ref:a,style:{...e.style,animationDuration:f.current?"0s":void 0},children:n&&o})})});function q(e,t){return`${e}-trigger-${t}`}function Y(e,t){return`${e}-content-${t}`}R.displayName=_;var B=e.i(47163);function U({className:e,...n}){return(0,t.jsx)(W,{"data-slot":"tabs",className:(0,B.cn)("flex flex-col gap-2",e),...n})}function $({className:e,...n}){return(0,t.jsx)(A,{"data-slot":"tabs-list",className:(0,B.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...n})}function G({className:e,...n}){return(0,t.jsx)(H,{"data-slot":"tabs-trigger",className:(0,B.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}function Q({className:e,...n}){return(0,t.jsx)(R,{"data-slot":"tabs-content",className:(0,B.cn)("flex-1 outline-none",e),...n})}e.s(["Tabs",()=>U,"TabsContent",()=>Q,"TabsList",()=>$,"TabsTrigger",()=>G],27341)},15278,e=>{"use strict";let t=(0,e.i(10965).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],15278)},79971,e=>{"use strict";let t=(0,e.i(10965).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>t],79971)},84244,e=>{"use strict";let t=(0,e.i(10965).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84244)},88346,e=>{"use strict";var t=e.i(23738),n=e.i(57645),a=e.i(70065),r=e.i(67881),i=e.i(94179),s=e.i(23750),o=e.i(86591),l=e.i(84244),d=e.i(15278),c=e.i(79971),u=e.i(84675),m=e.i(5576),h=e.i(10965);let f=(0,h.default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),g=(0,h.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var x=e.i(74679),p=e.i(35301);let b=(0,h.default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var w=e.i(90768);let v=(0,h.default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),y=(0,h.default)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var j=e.i(30902),N=e.i(31953),k=e.i(20755),C=e.i(62870),M=e.i(27341),T=e.i(81536);function S({date:e,initialBookings:h,shopId:S,workingHours:D={start:"09:00",end:"17:00"},slotDuration:P=30}){let E=(0,N.useRouter)(),[F,O]=(0,n.useState)(h),[L,W]=(0,n.useState)(""),[I,A]=(0,n.useState)("all"),[z,H]=(0,n.useState)(null),[_,R]=(0,n.useState)(null),[q,Y]=(0,n.useState)(new Date),[B,U]=(0,n.useState)("calendar");(0,n.useEffect)(()=>{let e=setInterval(()=>{Y(new Date)},6e4);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{let t=(0,k.createClient)(),n=t.channel("timetable-bookings-changes").on("postgres_changes",{event:"*",schema:"public",table:"bookings",filter:`shop_id=eq.${S}`},t=>{if("INSERT"===t.eventType){let n=t.new;n.appointment_date===e&&O(e=>e.find(e=>e.id===n.id)?e:[...e,n].sort((e,t)=>{let n=e.appointment_time.split(":").map(Number),a=t.appointment_time.split(":").map(Number);return 60*n[0]+n[1]-(60*a[0]+a[1])}))}else if("UPDATE"===t.eventType){let n=t.new;n.appointment_date===e?O(e=>e.map(e=>e.id===n.id?n:e)):O(e=>e.filter(e=>e.id!==n.id))}else"DELETE"===t.eventType&&O(e=>e.filter(e=>e.id!==t.old.id))}).subscribe();return()=>{t.removeChannel(n)}},[S,e]);let $=async(e,t)=>{H(e);try{if(!(await fetch(`/api/bookings/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})})).ok)throw Error("Failed to update booking");E.refresh()}catch(e){console.error("Error updating booking:",e),alert("Failed to update booking status")}finally{H(null)}},G=async e=>{R(e);try{if(!(await fetch(`/api/bookings/${e}/notify`,{method:"POST"})).ok)throw Error("Failed to send notification");alert("Notification email sent successfully!")}catch(e){console.error("Error sending notification:",e),alert("Failed to send notification email")}finally{R(null)}},Q=e=>{switch(e){case"confirmed":return"bg-green-500/10 text-green-700 dark:text-green-400 border-green-300";case"completed":return"bg-blue-500/10 text-blue-700 dark:text-blue-400 border-blue-300";case"cancelled":return"bg-red-500/10 text-red-700 dark:text-red-400 border-red-300";default:return"bg-yellow-500/10 text-yellow-700 dark:text-yellow-400 border-yellow-300"}},X=F.filter(e=>{let t=e.user_name.toLowerCase().includes(L.toLowerCase())||e.user_email.toLowerCase().includes(L.toLowerCase())||e.user_phone&&e.user_phone.includes(L)||e.appointment_time.includes(L),n="all"===I||e.status===I;return t&&n}),V=(()=>{let e=[],[t,n]=D.start.split(":").map(Number),[a,r]=D.end.split(":").map(Number),i=t,s=n;for(;i<a||i===a&&s<r;)e.push(`${i.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`),(s+=P)>=60&&(s=0,i++);return e})(),K=()=>{if(e!==(0,j.format)(new Date,"yyyy-MM-dd"))return null;let t=60*q.getHours()+q.getMinutes(),[n,a]=D.start.split(":").map(Number),r=60*n+a,[i,s]=D.end.split(":").map(Number),o=60*i+s;return t<r||t>=o?null:(t-r)/(o-r)*100},J={total:F.length,pending:F.filter(e=>"pending"===e.status).length,confirmed:F.filter(e=>"confirmed"===e.status).length,completed:F.filter(e=>"completed"===e.status).length,cancelled:F.filter(e=>"cancelled"===e.status).length};return(0,n.useEffect)(()=>{F.length>0&&(console.log("Bookings data:",F),console.log("Time slots:",V),console.log("Working hours:",D))},[F,V,D]),(0,t.jsxs)("div",{className:"container mx-auto max-w-7xl px-3 sm:px-4 py-4 sm:py-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)(T.default,{href:"/shop/bookings",className:"mb-4 inline-flex items-center gap-2 text-sm text-primary hover:underline",children:[(0,t.jsx)(u.ArrowLeft,{className:"h-4 w-4"}),"Back to Bookings"]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"mb-2 text-2xl sm:text-3xl font-bold",children:"Timetable"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(x.Calendar,{className:"h-4 w-4 sm:h-5 sm:w-5"}),(0,t.jsx)("span",{className:"text-base sm:text-lg",children:(0,j.format)(new Date(e),"EEEE, MMMM d, yyyy")})]})]}),(0,t.jsxs)(r.Button,{onClick:()=>{let t=new Blob([["Time,Customer Name,Email,Phone,Status,Notes",...X.map(e=>[e.appointment_time,e.user_name,e.user_email,e.user_phone||"",e.status,e.notes||""]).map(e=>e.map(e=>`"${e}"`).join(","))].join("\n")],{type:"text/csv"}),n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download=`bookings-${e}.csv`,a.click(),window.URL.revokeObjectURL(n)},variant:"outline",className:"gap-2 w-full sm:w-auto",children:[(0,t.jsx)(g,{className:"h-4 w-4"}),"Export CSV"]})]})]}),(0,t.jsxs)("div",{className:"mb-6 grid gap-3 sm:gap-4 grid-cols-2 md:grid-cols-5",children:[(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{className:"pb-2 sm:pb-3",children:(0,t.jsx)(a.CardTitle,{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Total"})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("div",{className:"text-xl sm:text-2xl font-bold",children:J.total})})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{className:"pb-2 sm:pb-3",children:(0,t.jsx)(a.CardTitle,{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Pending"})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:J.pending})})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{className:"pb-2 sm:pb-3",children:(0,t.jsx)(a.CardTitle,{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Confirmed"})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:J.confirmed})})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{className:"pb-2 sm:pb-3",children:(0,t.jsx)(a.CardTitle,{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Completed"})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:J.completed})})]}),(0,t.jsxs)(a.Card,{className:"col-span-2 md:col-span-1",children:[(0,t.jsx)(a.CardHeader,{className:"pb-2 sm:pb-3",children:(0,t.jsx)(a.CardTitle,{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Cancelled"})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-red-600",children:J.cancelled})})]})]}),(0,t.jsx)(a.Card,{className:"mb-6",children:(0,t.jsx)(a.CardContent,{className:"pt-4 sm:pt-6",children:(0,t.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4 md:flex-row",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(m.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(s.Input,{placeholder:"Search by name, email, phone, or time...",value:L,onChange:e=>W(e.target.value),className:"pl-10 text-sm sm:text-base"})]}),(0,t.jsxs)(C.Select,{value:I,onValueChange:A,children:[(0,t.jsxs)(C.SelectTrigger,{className:"w-full md:w-[200px]",children:[(0,t.jsx)(f,{className:"mr-2 h-4 w-4"}),(0,t.jsx)(C.SelectValue,{placeholder:"Filter by status"})]}),(0,t.jsxs)(C.SelectContent,{children:[(0,t.jsx)(C.SelectItem,{value:"all",children:"All Statuses"}),(0,t.jsx)(C.SelectItem,{value:"pending",children:"Pending"}),(0,t.jsx)(C.SelectItem,{value:"confirmed",children:"Confirmed"}),(0,t.jsx)(C.SelectItem,{value:"completed",children:"Completed"}),(0,t.jsx)(C.SelectItem,{value:"cancelled",children:"Cancelled"})]})]})]})})}),(0,t.jsxs)(M.Tabs,{value:B,onValueChange:e=>U(e),className:"mb-6",children:[(0,t.jsxs)(M.TabsList,{className:"w-full sm:w-fit",children:[(0,t.jsxs)(M.TabsTrigger,{value:"calendar",className:"flex-1 sm:flex-initial",children:[(0,t.jsx)(x.Calendar,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Calendar View"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Calendar"})]}),(0,t.jsxs)(M.TabsTrigger,{value:"list",className:"flex-1 sm:flex-initial",children:[(0,t.jsx)(y,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"List View"}),(0,t.jsx)("span",{className:"sm:hidden",children:"List"})]})]}),(0,t.jsx)(M.TabsContent,{value:"calendar",className:"mt-6",children:(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"p-0 overflow-x-auto",children:(0,t.jsxs)("div",{className:"relative min-w-full",children:[null!==K()&&(0,t.jsxs)("div",{className:"absolute left-0 right-0 z-10 flex items-center",style:{top:`${K()}%`},children:[(0,t.jsx)("div",{className:"h-0.5 w-full bg-red-500"}),(0,t.jsx)("div",{className:"absolute right-0 rounded-full bg-red-500 px-2 py-0.5 text-xs font-semibold text-white",children:(0,j.format)(q,"HH:mm")})]}),(0,t.jsx)("div",{className:"divide-y min-w-full",children:V.map((n,s)=>{let o,l,u=(l=(o=e=>e.split(":").slice(0,2).join(":"))(n),F.filter(e=>o(e.appointment_time)===l)),m=(t=>{if(e!==(0,j.format)(new Date,"yyyy-MM-dd"))return!1;let[n,a]=t.split(":").map(Number),r=q.getHours(),i=q.getMinutes(),s=60*n+a,o=60*r+i;return o>=s&&o<s+P})(n),h=u.filter(e=>{if(!L&&"all"===I)return!0;let t=!L||e.user_name.toLowerCase().includes(L.toLowerCase())||e.user_email.toLowerCase().includes(L.toLowerCase())||e.user_phone&&e.user_phone.includes(L)||e.appointment_time.includes(L),n="all"===I||e.status===I;return t&&n});return(0,t.jsx)("div",{className:`relative min-h-[120px] p-3 sm:p-4 transition-colors ${m?"bg-red-50 dark:bg-red-950/20":"hover:bg-accent/50"} ${s%2==0?"bg-background":"bg-muted/30"}`,children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{className:"w-full sm:w-20 flex-shrink-0",children:[(0,t.jsx)("div",{className:`text-base sm:text-lg font-semibold ${m?"text-red-600":""}`,children:n}),m&&(0,t.jsx)("div",{className:"mt-1 text-xs text-red-600 font-medium",children:"Now"})]}),(0,t.jsx)("div",{className:"flex-1 space-y-2 min-w-0",children:0===h.length?u.length>0?(0,t.jsxs)("div",{className:"text-xs text-muted-foreground italic",children:[u.length," booking",u.length>1?"s":""," (filtered out)"]}):(0,t.jsx)("div",{className:"text-sm text-muted-foreground italic",children:"No bookings"}):h.map(e=>(0,t.jsx)(a.Card,{className:`border-l-4 ${"pending"===e.status?"border-l-yellow-500":"confirmed"===e.status?"border-l-green-500":"completed"===e.status?"border-l-blue-500":"border-l-red-500"}`,children:(0,t.jsx)(a.CardContent,{className:"p-3",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[(0,t.jsx)("span",{className:"font-semibold text-sm sm:text-base break-words",children:e.user_name}),(0,t.jsx)(i.Badge,{className:Q(e.status),children:e.status})]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 break-all",children:[(0,t.jsx)(d.Mail,{className:"h-3 w-3 flex-shrink-0"}),(0,t.jsx)("span",{className:"truncate",children:e.user_email})]}),e.user_phone&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(c.Phone,{className:"h-3 w-3 flex-shrink-0"}),(0,t.jsx)("a",{href:`tel:${e.user_phone}`,className:"hover:underline",children:e.user_phone})]})]}),e.notes&&(0,t.jsx)("div",{className:"mt-2 text-xs text-muted-foreground break-words",children:e.notes})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full sm:w-auto sm:min-w-[100px]",children:[(0,t.jsx)(r.Button,{size:"sm",variant:"outline",onClick:()=>G(e.id),disabled:_===e.id,className:"h-7 text-xs w-full sm:w-auto",children:_===e.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Loader2,{className:"h-3 w-3 animate-spin mr-1"}),"Sending..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v,{className:"h-3 w-3 mr-1"}),"Notify"]})}),"pending"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Button,{size:"sm",onClick:()=>$(e.id,"confirmed"),disabled:z===e.id,className:"h-7 text-xs w-full sm:w-auto",children:z===e.id?(0,t.jsx)(w.Loader2,{className:"h-3 w-3 animate-spin"}):"Confirm"}),(0,t.jsx)(r.Button,{size:"sm",variant:"destructive",onClick:()=>$(e.id,"cancelled"),disabled:z===e.id,className:"h-7 text-xs w-full sm:w-auto",children:"Cancel"})]}),"confirmed"===e.status&&(0,t.jsx)(r.Button,{size:"sm",onClick:()=>$(e.id,"completed"),disabled:z===e.id,className:"h-7 text-xs w-full sm:w-auto",children:"Complete"})]})]})})},e.id))})]})},n)})})]})})})}),(0,t.jsx)(M.TabsContent,{value:"list",className:"mt-6",children:0===X.length?(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"py-12 text-center",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:0===F.length?"No bookings for this date":"No bookings match your search criteria"})})}):(0,t.jsx)("div",{className:"space-y-4",children:X.map(e=>(0,t.jsx)(a.Card,{className:"border-l-4 border-l-primary",children:(0,t.jsx)(a.CardContent,{className:"p-4 sm:p-6",children:(0,t.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-start lg:justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-4 min-w-0",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-lg sm:text-xl font-semibold",children:[(0,t.jsx)(o.Clock,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),e.appointment_time]}),(0,t.jsx)(i.Badge,{className:Q(e.status),children:e.status})]}),(0,t.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.User,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),(0,t.jsx)("span",{className:"font-medium break-words",children:e.user_name})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,t.jsx)(d.Mail,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),(0,t.jsx)("a",{href:`mailto:${e.user_email}`,className:"hover:underline text-primary truncate",children:e.user_email})]}),e.user_phone&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.Phone,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),(0,t.jsx)("a",{href:`tel:${e.user_phone}`,className:"hover:underline text-primary",children:e.user_phone})]})]}),e.notes&&(0,t.jsxs)("div",{className:"rounded-lg bg-muted p-3 sm:p-4",children:[(0,t.jsx)("p",{className:"mb-1 text-sm font-medium",children:"Notes:"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground break-words",children:e.notes})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 lg:min-w-[200px]",children:[(0,t.jsx)(r.Button,{size:"sm",variant:"outline",onClick:()=>G(e.id),disabled:_===e.id,className:"w-full gap-2",children:_===e.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Loader2,{className:"h-4 w-4 animate-spin"}),"Sending..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v,{className:"h-4 w-4"}),"Notify Customer"]})}),"pending"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.Button,{size:"sm",onClick:()=>$(e.id,"confirmed"),disabled:z===e.id,className:"w-full gap-2",children:[z===e.id?(0,t.jsx)(w.Loader2,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(p.CheckCircle2,{className:"h-4 w-4"}),"Confirm"]}),(0,t.jsxs)(r.Button,{size:"sm",variant:"destructive",onClick:()=>$(e.id,"cancelled"),disabled:z===e.id,className:"w-full gap-2",children:[z===e.id?(0,t.jsx)(w.Loader2,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(b,{className:"h-4 w-4"}),"Cancel"]})]}),"confirmed"===e.status&&(0,t.jsxs)(r.Button,{size:"sm",onClick:()=>$(e.id,"completed"),disabled:z===e.id,className:"w-full gap-2",children:[z===e.id?(0,t.jsx)(w.Loader2,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(p.CheckCircle2,{className:"h-4 w-4"}),"Mark as Completed"]}),("completed"===e.status||"cancelled"===e.status)&&(0,t.jsx)("div",{className:"rounded-lg bg-muted p-3 text-center text-sm text-muted-foreground",children:"completed"===e.status?"This booking has been completed":"This booking has been cancelled"})]})]})})},e.id))})})]})]})}e.s(["TimetablePage",()=>S],88346)}]);