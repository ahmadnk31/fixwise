(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90768,e=>{"use strict";let t=(0,e.i(10965).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],90768)},84675,e=>{"use strict";let t=(0,e.i(10965).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],84675)},5576,e=>{"use strict";let t=(0,e.i(10965).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],5576)},34290,e=>{"use strict";var t=e.i(34853);e.s(["X",()=>t.default])},87524,e=>{"use strict";let t=(0,e.i(10965).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],87524)},92357,e=>{"use strict";let t=(0,e.i(10965).default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);e.s(["LogOut",()=>t],92357)},94179,e=>{"use strict";var t=e.i(23738),r=e.i(84739),s=e.i(94237),a=e.i(47163);let i=(0,s.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:s,asChild:n=!1,...l}){let o=n?r.Slot:"span";return(0,t.jsx)(o,{"data-slot":"badge",className:(0,a.cn)(i({variant:s}),e),...l})}e.s(["Badge",()=>n])},34853,e=>{"use strict";let t=(0,e.i(10965).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["default",()=>t])},28152,e=>{"use strict";let t=(0,e.i(10965).default)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>t],28152)},24931,e=>{"use strict";var t=e.i(23738),r=e.i(67881),s=e.i(92357),a=e.i(20755),i=e.i(31953),n=e.i(57645),l=e.i(2942);function o({variant:e="icon",className:o}){let d=(0,i.useRouter)(),{t:c}=(0,l.useI18n)(),[u,f]=(0,n.useState)(!1),h=async()=>{f(!0);try{let e=(0,a.createClient)();await e.auth.signOut(),d.push("/"),d.refresh()}catch(e){console.error("Logout error:",e)}finally{f(!1)}};return"full"===e?(0,t.jsxs)(r.Button,{variant:"ghost",className:`w-full justify-start ${o||""}`,onClick:h,disabled:u,children:[(0,t.jsx)(s.LogOut,{className:"h-4 w-4 mr-2"}),c.nav.logout]}):(0,t.jsx)(r.Button,{variant:"ghost",size:"icon",onClick:h,disabled:u,title:c.nav.logout,className:o,children:(0,t.jsx)(s.LogOut,{className:"h-4 w-4"})})}e.s(["LogoutButton",()=>o])},70271,e=>{"use strict";let t=(0,e.i(10965).default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);e.s(["Menu",()=>t],70271)},17467,e=>{"use strict";var t=e.i(23738),r=e.i(2942),s=e.i(31667),a=e.i(62870),i=e.i(28152);let n={en:"English",nl:"Nederlands"};function l(){let{locale:e,setLocale:l}=(0,r.useI18n)();return(0,t.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,t.jsx)(i.Globe,{className:"h-4 w-4 text-muted-foreground hidden sm:block"}),(0,t.jsxs)(a.Select,{value:e,onValueChange:e=>l(e),children:[(0,t.jsx)(a.SelectTrigger,{className:"w-[100px] sm:w-[140px] h-8",children:(0,t.jsx)(a.SelectValue,{})}),(0,t.jsx)(a.SelectContent,{children:s.locales.map(e=>(0,t.jsx)(a.SelectItem,{value:e,children:n[e]},e))})]})]})}e.s(["LanguageSwitcher",()=>l])},84135,e=>{"use strict";let t=(0,e.i(10965).default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],84135)},79971,e=>{"use strict";let t=(0,e.i(10965).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>t],79971)},15278,e=>{"use strict";let t=(0,e.i(10965).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],15278)},49110,e=>{"use strict";let t=(0,e.i(10965).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],49110)},21937,(e,t,r)=>{"use strict";function s({widthInt:e,heightInt:t,blurWidth:r,blurHeight:s,blurDataURL:a,objectFit:i}){let n=r?40*r:e,l=s?40*s:t,o=n&&l?`viewBox='0 0 ${n} ${l}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${o}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${o?"none":"contain"===i?"xMidYMid":"cover"===i?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${a}'/%3E%3C/svg%3E`}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImageBlurSvg",{enumerable:!0,get:function(){return s}})},70044,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={VALID_LOADERS:function(){return i},imageConfigDefault:function(){return n}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let i=["default","imgix","cloudinary","akamai","custom"],n={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},1553,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImgProps",{enumerable:!0,get:function(){return o}}),e.r(87580);let s=e.r(21937),a=e.r(70044),i=["-moz-initial","fill","none","scale-down",void 0];function n(e){return void 0!==e.default}function l(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function o({src:e,sizes:t,unoptimized:r=!1,priority:o=!1,preload:d=!1,loading:c,className:u,quality:f,width:h,height:p,fill:g=!1,style:m,overrideSrc:x,onLoad:v,onLoadingComplete:y,placeholder:j="empty",blurDataURL:w,fetchPriority:b,decoding:N="async",layout:C,objectFit:k,objectPosition:S,lazyBoundary:_,lazyRoot:E,...M},P){var z;let O,L,T,{imgConf:R,showAltText:B,blurComplete:I,defaultLoader:A}=P,$=R||a.imageConfigDefault;if("allSizes"in $)O=$;else{let e=[...$.deviceSizes,...$.imageSizes].sort((e,t)=>e-t),t=$.deviceSizes.sort((e,t)=>e-t),r=$.qualities?.sort((e,t)=>e-t);O={...$,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===A)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let D=M.loader||A;delete M.loader,delete M.srcSet;let F="__next_img_default"in D;if(F){if("custom"===O.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=D;D=t=>{let{config:r,...s}=t;return e(s)}}if(C){"fill"===C&&(g=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[C];e&&(m={...m,...e});let r={responsive:"100vw",fill:"100vw"}[C];r&&!t&&(t=r)}let G="",U=l(h),q=l(p);if((z=e)&&"object"==typeof z&&(n(z)||void 0!==z.src)){let t=n(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(L=t.blurWidth,T=t.blurHeight,w=w||t.blurDataURL,G=t.src,!g)if(U||q){if(U&&!q){let e=U/t.width;q=Math.round(t.height*e)}else if(!U&&q){let e=q/t.height;U=Math.round(t.width*e)}}else U=t.width,q=t.height}let W=!o&&!d&&("lazy"===c||void 0===c);(!(e="string"==typeof e?e:G)||e.startsWith("data:")||e.startsWith("blob:"))&&(r=!0,W=!1),O.unoptimized&&(r=!0),F&&!O.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(r=!0);let H=l(f),V=Object.assign(g?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:k,objectPosition:S}:{},B?{}:{color:"transparent"},m),X=I||"empty"===j?null:"blur"===j?`url("data:image/svg+xml;charset=utf-8,${(0,s.getImageBlurSvg)({widthInt:U,heightInt:q,blurWidth:L,blurHeight:T,blurDataURL:w||"",objectFit:V.objectFit})}")`:`url("${j}")`,K=i.includes(V.objectFit)?"fill"===V.objectFit?"100% 100%":"cover":V.objectFit,J=X?{backgroundSize:K,backgroundPosition:V.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:X}:{},Y=function({config:e,src:t,unoptimized:r,width:s,quality:a,sizes:i,loader:n}){if(r)return{src:t,srcSet:void 0,sizes:void 0};let{widths:l,kind:o}=function({deviceSizes:e,allSizes:t},r,s){if(s){let r=/(^|\s)(1?\d?\d)vw/g,a=[];for(let e;e=r.exec(s);)a.push(parseInt(e[2]));if(a.length){let r=.01*Math.min(...a);return{widths:t.filter(t=>t>=e[0]*r),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof r?{widths:e,kind:"w"}:{widths:[...new Set([r,2*r].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,s,i),d=l.length-1;return{sizes:i||"w"!==o?i:"100vw",srcSet:l.map((r,s)=>`${n({config:e,src:t,quality:a,width:r})} ${"w"===o?r:s+1}${o}`).join(", "),src:n({config:e,src:t,quality:a,width:l[d]})}}({config:O,src:e,unoptimized:r,width:U,quality:H,sizes:t,loader:D}),Q=W?"lazy":c;return{props:{...M,loading:Q,fetchPriority:b,width:U,height:q,decoding:N,className:u,style:{...V,...J},sizes:Y.sizes,srcSet:Y.srcSet,src:x||Y.src},meta:{unoptimized:r,preload:d||o,placeholder:j,fill:g}}}},42936,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return l}});let s=e.r(57645),a="undefined"==typeof window,i=a?()=>{}:s.useLayoutEffect,n=a?()=>{}:s.useEffect;function l(e){let{headManager:t,reduceComponentsToState:r}=e;function l(){if(t&&t.mountedInstances){let e=s.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(e))}}return a&&(t?.mountedInstances?.add(e.children),l()),i(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),i(()=>(t&&(t._pendingUpdate=l),()=>{t&&(t._pendingUpdate=l)})),n(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},21095,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={default:function(){return g},defaultHead:function(){return u}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let i=e.r(81258),n=e.r(44066),l=e.r(23738),o=n._(e.r(57645)),d=i._(e.r(42936)),c=e.r(72846);function u(){return[(0,l.jsx)("meta",{charSet:"utf-8"},"charset"),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function f(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===o.default.Fragment?e.concat(o.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(87580);let h=["name","httpEquiv","charSet","itemProp"];function p(e){let t,r,s,a;return e.reduce(f,[]).reverse().concat(u().reverse()).filter((t=new Set,r=new Set,s=new Set,a={},e=>{let i=!0,n=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){n=!0;let r=e.key.slice(e.key.indexOf("$")+1);t.has(r)?i=!1:t.add(r)}switch(e.type){case"title":case"base":r.has(e.type)?i=!1:r.add(e.type);break;case"meta":for(let t=0,r=h.length;t<r;t++){let r=h[t];if(e.props.hasOwnProperty(r))if("charSet"===r)s.has(r)?i=!1:s.add(r);else{let t=e.props[r],s=a[r]||new Set;("name"!==r||!n)&&s.has(t)?i=!1:(s.add(t),a[r]=s)}}}return i})).reverse().map((e,t)=>{let r=e.key||t;return o.default.cloneElement(e,{key:r})})}let g=function({children:e}){let t=(0,o.useContext)(c.HeadManagerContext);return(0,l.jsx)(d.default,{reduceComponentsToState:p,headManager:t,children:e})};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},86305,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageConfigContext",{enumerable:!0,get:function(){return i}});let s=e.r(81258)._(e.r(57645)),a=e.r(70044),i=s.default.createContext(a.imageConfigDefault)},93227,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouterContext",{enumerable:!0,get:function(){return s}});let s=e.r(81258)._(e.r(57645)).default.createContext(null)},12169,(e,t,r)=>{"use strict";function s(e,t){let r=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e,0):r}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"findClosestQuality",{enumerable:!0,get:function(){return s}})},32992,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return i}});let s=e.r(12169);function a({config:e,src:t,width:r,quality:a}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let i=(0,s.findClosestQuality)(a,e);return`${e.path}?url=${encodeURIComponent(t)}&w=${r}&q=${i}${t.startsWith("/_next/static/media/"),""}`}a.__next_img_default=!0;let i=a},66458,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Image",{enumerable:!0,get:function(){return j}});let s=e.r(81258),a=e.r(44066),i=e.r(23738),n=a._(e.r(57645)),l=s._(e.r(29183)),o=s._(e.r(21095)),d=e.r(1553),c=e.r(70044),u=e.r(86305);e.r(87580);let f=e.r(93227),h=s._(e.r(32992)),p=e.r(20354),g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function m(e,t,r,s,a,i,n){let l=e?.src;e&&e["data-loaded-src"]!==l&&(e["data-loaded-src"]=l,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&a(!0),r?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let s=!1,a=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>s,isPropagationStopped:()=>a,persist:()=>{},preventDefault:()=>{s=!0,t.preventDefault()},stopPropagation:()=>{a=!0,t.stopPropagation()}})}s?.current&&s.current(e)}}))}function x(e){return n.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let v=(0,n.forwardRef)(({src:e,srcSet:t,sizes:r,height:s,width:a,decoding:l,className:o,style:d,fetchPriority:c,placeholder:u,loading:f,unoptimized:h,fill:g,onLoadRef:v,onLoadingCompleteRef:y,setBlurComplete:j,setShowAltText:w,sizesInput:b,onLoad:N,onError:C,...k},S)=>{let _=(0,n.useCallback)(e=>{e&&(C&&(e.src=e.src),e.complete&&m(e,u,v,y,j,h,b))},[e,u,v,y,j,C,h,b]),E=(0,p.useMergedRef)(S,_);return(0,i.jsx)("img",{...k,...x(c),loading:f,width:a,height:s,decoding:l,"data-nimg":g?"fill":"1",className:o,style:d,sizes:r,srcSet:t,src:e,ref:E,onLoad:e=>{m(e.currentTarget,u,v,y,j,h,b)},onError:e=>{w(!0),"empty"!==u&&j(!0),C&&C(e)}})});function y({isAppRouter:e,imgAttributes:t}){let r={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...x(t.fetchPriority)};return e&&l.default.preload?(l.default.preload(t.src,r),null):(0,i.jsx)(o.default,{children:(0,i.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...r},"__nimg-"+t.src+t.srcSet+t.sizes)})}let j=(0,n.forwardRef)((e,t)=>{let r=(0,n.useContext)(f.RouterContext),s=(0,n.useContext)(u.ImageConfigContext),a=(0,n.useMemo)(()=>{let e=g||s||c.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t),a=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r,qualities:a,localPatterns:"undefined"==typeof window?s?.localPatterns:e.localPatterns}},[s]),{onLoad:l,onLoadingComplete:o}=e,p=(0,n.useRef)(l);(0,n.useEffect)(()=>{p.current=l},[l]);let m=(0,n.useRef)(o);(0,n.useEffect)(()=>{m.current=o},[o]);let[x,j]=(0,n.useState)(!1),[w,b]=(0,n.useState)(!1),{props:N,meta:C}=(0,d.getImgProps)(e,{defaultLoader:h.default,imgConf:a,blurComplete:x,showAltText:w});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v,{...N,unoptimized:C.unoptimized,placeholder:C.placeholder,fill:C.fill,onLoadRef:p,onLoadingCompleteRef:m,setBlurComplete:j,setShowAltText:b,sizesInput:e.sizes,ref:t}),C.preload?(0,i.jsx)(y,{isAppRouter:!r,imgAttributes:N}):null]})});("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},4516,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={default:function(){return c},getImageProps:function(){return d}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let i=e.r(81258),n=e.r(1553),l=e.r(66458),o=i._(e.r(32992));function d(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=l.Image},3391,(e,t,r)=>{t.exports=e.r(4516)},23750,e=>{"use strict";var t=e.i(23738),r=e.i(47163);function s({className:e,type:s,...a}){return(0,t.jsx)("input",{type:s,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}e.s(["Input",()=>s])},81947,e=>{"use strict";var t=e.i(23738),r=e.i(94237),s=e.i(47163);let a=(0,r.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function i({className:e,variant:r,...i}){return(0,t.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,s.cn)(a({variant:r}),e),...i})}function n({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"alert-title",className:(0,s.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...r})}function l({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"alert-description",className:(0,s.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...r})}e.s(["Alert",()=>i,"AlertDescription",()=>l,"AlertTitle",()=>n])},59157,e=>{"use strict";var t=e.i(57645);let r=null;function s(){let[e,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(null);return(0,t.useEffect)(()=>{(async()=>{if(window.google?.maps)return s(!0);if(r){try{await r,s(!0)}catch(e){i(e instanceof Error?e.message:"Failed to load Google Maps")}return}let e=document.querySelector('script[src*="maps.googleapis.com/maps/api/js"]');if(e){if(window.google?.maps)return s(!0);r=new Promise((t,r)=>{let s=()=>{window.google?.maps&&t()};s();let a=setInterval(()=>{window.google?.maps&&(clearInterval(a),t())},100);setTimeout(()=>{clearInterval(a),window.google?.maps||r(Error("Google Maps failed to load"))},1e4),"loading"===e.readyState&&(e.addEventListener("load",s),e.addEventListener("error",()=>{clearInterval(a),r(Error("Failed to load Google Maps script"))}))});try{await r,s(!0)}catch(e){i(e instanceof Error?e.message:"Failed to load Google Maps")}return}r=new Promise(async(e,t)=>{try{let r=await fetch("/api/maps-config"),s=await r.json();if(!s.apiKey)return void t(Error("Maps API key not configured"));let a=document.createElement("script");a.src=`https://maps.googleapis.com/maps/api/js?key=${s.apiKey}&libraries=places`,a.async=!0,a.defer=!0,a.onload=()=>{window.google?.maps?e():t(Error("Google Maps failed to initialize"))},a.onerror=()=>{t(Error("Failed to load Google Maps script"))},document.head.appendChild(a)}catch(e){t(e instanceof Error?e:Error("Failed to load Google Maps"))}});try{await r,s(!0)}catch(e){i(e instanceof Error?e.message:"Failed to load Google Maps"),r=null}})()},[]),{isLoaded:e,error:a}}e.s(["useGoogleMaps",()=>s])},24696,e=>{"use strict";var t=e.i(23738),r=e.i(57645),s=e.i(70065),a=e.i(67881),i=e.i(94179),n=e.i(23750),l=e.i(49110),o=e.i(79971),d=e.i(15278),c=e.i(84135),u=e.i(5576);let f=(0,e.i(10965).default)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);var h=e.i(90768),p=e.i(87524),g=e.i(81536),m=e.i(34290),x=e.i(59157);function v({shops:e,selectedShop:i,hoveredShop:n,onSelectShop:o,userLocation:d}){let c=(0,r.useRef)(null),u=(0,r.useRef)(null),p=(0,r.useRef)([]),g=(0,r.useRef)(null),v=(0,r.useRef)(null),y=(0,r.useRef)(null),j=(0,r.useRef)(!1),[w,b]=(0,r.useState)(!0),[N,C]=(0,r.useState)(!1),{isLoaded:k,error:S}=(0,x.useGoogleMaps)();(0,r.useEffect)(()=>{k&&window.google?.maps&&!j.current?(_(),j.current=!0):S&&b(!1)},[k,S]),(0,r.useEffect)(()=>{u.current&&e.length>0&&z()},[e,n]),(0,r.useEffect)(()=>{let e=i||n;e&&d&&u.current?M(e):P()},[i,n,d]),(0,r.useEffect)(()=>{d&&u.current&&window.google&&E()},[d]),(0,r.useEffect)(()=>{let e=()=>{u.current&&window.google&&setTimeout(()=>{window.google.maps.event.trigger(u.current,"resize")},100)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let _=()=>{if(!c.current||!window.google)return;let t=e.find(e=>e.latitude&&e.longitude),r=d||(t?{lat:t.latitude,lng:t.longitude}:{lat:37.7749,lng:-122.4194});u.current=new window.google.maps.Map(c.current,{center:r,zoom:12,styles:[{featureType:"all",elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#1A2332"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"administrative",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#e8e8e8"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#d4e7f5"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#7891a3"}]}],disableDefaultUI:!0,zoomControl:!0,zoomControlOptions:{position:window.google.maps.ControlPosition.RIGHT_CENTER},gestureHandling:"greedy",clickableIcons:!1}),g.current=new window.google.maps.DirectionsService,v.current=new window.google.maps.DirectionsRenderer({map:u.current,suppressMarkers:!0,polylineOptions:{strokeColor:"#1A2332",strokeWeight:5,strokeOpacity:.8}}),z(),d&&E(),setTimeout(()=>{u.current&&window.google&&window.google.maps.event.trigger(u.current,"resize")},100),b(!1)},E=()=>{u.current&&window.google&&d&&(y.current&&y.current.setMap(null),y.current=new window.google.maps.Marker({position:d,map:u.current,title:"Your Location",icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:12,fillColor:"#1A2332",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:4},animation:window.google.maps.Animation.DROP,zIndex:1e3}))},M=e=>{let t=e||i||n;if(!t?.latitude||!t?.longitude||!d||!g.current||!v.current)return;let r={origin:d,destination:{lat:t.latitude,lng:t.longitude},travelMode:window.google.maps.TravelMode.DRIVING};g.current.route(r,(e,t)=>{t===window.google.maps.DirectionsStatus.OK?(v.current.setDirections(e),C(!0)):console.error("Directions request failed:",t)})},P=()=>{v.current&&(v.current.setDirections({routes:[]}),C(!1))},z=()=>{if(!u.current||!window.google)return;p.current.forEach(e=>e.setMap(null)),p.current=[];let t=new window.google.maps.LatLngBounds,r=!1;if(d&&(t.extend(d),r=!0),e.forEach(e=>{if(!e.latitude||!e.longitude)return;let s={lat:e.latitude,lng:e.longitude},a=i?.id===e.id,l=n?.id===e.id,d="#3d4b5f",c=40,f=50,h=1;a?(d="#1A2332",c=48,f=60,h=999):l&&(d="#2563eb",c=44,f=55,h=500);let g=new window.google.maps.Marker({position:s,map:u.current,title:e.name,icon:{url:`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(`
            <svg width="${c}" height="${f}" viewBox="0 0 40 50" xmlns="http://www.w3.org/2000/svg">
              <g filter="url(#shadow)">
                <path d="M20 0C11.716 0 5 6.716 5 15c0 8.284 15 35 15 35s15-26.716 15-35c0-8.284-6.716-15-15-15z" 
                      fill="${d}" />
                <circle cx="20" cy="15" r="6" fill="white" />
                <path d="M20 11 L22 15 L18 15 Z M20 19 L18 15 L22 15 Z" fill="${d}" />
              </g>
              <defs>
                <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
                  <feDropShadow dx="0" dy="2" stdDeviation="3" floodOpacity="0.3"/>
                </filter>
              </defs>
            </svg>
          `)}`,scaledSize:new window.google.maps.Size(c,f),anchor:new window.google.maps.Point(c/2,f)},animation:l?window.google.maps.Animation.BOUNCE:null,zIndex:h});g.shopId=e.id,g.addListener("click",()=>{o(e),u.current.panTo(s)});let m=new window.google.maps.InfoWindow({content:`
          <div style="padding: 12px; max-width: 240px; font-family: system-ui, -apple-system, sans-serif;">
            <h3 style="margin: 0 0 8px 0; font-weight: 600; font-size: 16px; color: #1A2332;">${e.name}</h3>
            <p style="margin: 0 0 6px 0; font-size: 13px; color: #6b7280; line-height: 1.4;">${e.address}</p>
            <div style="display: flex; flex-wrap: wrap; gap: 4px; margin-top: 8px;">
              ${e.expertise.map(e=>`<span style="background: #e8eef5; color: #1A2332; padding: 2px 8px; border-radius: 12px; font-size: 11px; font-weight: 500;">${e}</span>`).join("")}
            </div>
            ${e.distance?`<p style="margin: 8px 0 0 0; font-size: 12px; color: #1A2332; font-weight: 600;">üìç ${e.distance.toFixed(1)} km away</p>`:""}
          </div>
        `});g.addListener("mouseenter",()=>{m.open(u.current,g)}),g.addListener("mouseleave",()=>{a||m.close()}),p.current.push(g),t.extend(s),r=!0}),p.current.forEach(e=>{let t=e.shopId;n&&t===n.id?e.setAnimation(window.google.maps.Animation.BOUNCE):e.setAnimation(null)}),n&&u.current&&window.google){let t=e.find(e=>e.id===n.id);t?.latitude&&t?.longitude&&u.current.panTo({lat:t.latitude,lng:t.longitude})}!r||!u.current||N||n||i||u.current.fitBounds(t,{padding:60})};return S?(0,t.jsx)(s.Card,{className:"h-full",children:(0,t.jsx)(s.CardContent,{className:"flex h-full items-center justify-center p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(l.MapPin,{className:"mx-auto mb-4 h-12 w-12 text-muted-foreground"}),(0,t.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"Map Unavailable"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:S}),(0,t.jsx)("p",{className:"mt-4 text-xs text-muted-foreground",children:"Please check your Maps configuration in environment variables"})]})})}):(0,t.jsx)(s.Card,{className:"h-full overflow-hidden py-0",children:(0,t.jsxs)(s.CardContent,{className:"relative h-full p-0",children:[w&&(0,t.jsx)("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(h.Loader2,{className:"mx-auto h-8 w-8 animate-spin text-primary"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading map..."})]})}),N&&(i||n)&&(0,t.jsx)("div",{className:"absolute left-4 top-4 z-10 rounded-xl bg-background/95 p-4 shadow-xl backdrop-blur-md",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"rounded-full bg-primary/10 p-2",children:(0,t.jsx)(f,{className:"h-5 w-5 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:i?"Directions to":"Hovering over"}),(0,t.jsx)("p",{className:"font-semibold text-foreground",children:(i||n)?.name})]})]}),i&&(0,t.jsx)(a.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>o(null),children:(0,t.jsx)(m.X,{className:"h-4 w-4"})})]})}),(0,t.jsx)("div",{ref:c,className:"h-full w-full"})]})})}function y(e){return Math.PI/180*e}var j=e.i(81947),w=e.i(31953),b=e.i(3391),N=e.i(20755),C=e.i(24931),k=e.i(84675),S=e.i(70271),_=e.i(17467),E=e.i(2942);function M({variant:e="default",showBackButton:s=!1,onBack:i}){let{t:n}=(0,E.useI18n)(),[l,o]=(0,r.useState)(null),[d,c]=(0,r.useState)(!0),[u,f]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),x=(0,r.useRef)(null),v=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=e=>{let t=e.target;v.current?.contains(t)||x.current?.contains(t)||p(!1)};return h&&setTimeout(()=>{document.addEventListener("mousedown",e)},0),()=>{document.removeEventListener("mousedown",e)}},[h]),(0,r.useEffect)(()=>{(async()=>{let e=(0,N.createClient)(),{data:{user:t}}=await e.auth.getUser();if(o(t),t){let{data:r}=await e.from("repair_shops").select("id").eq("owner_id",t.id).maybeSingle();f(!!r)}c(!1)})();let e=(0,N.createClient)(),{data:{subscription:t}}=e.auth.onAuthStateChange(async(t,r)=>{if(o(r?.user??null),r?.user){let{data:t}=await e.from("repair_shops").select("id").eq("owner_id",r.user.id).maybeSingle();f(!!t)}else f(!1)});return()=>{t.unsubscribe()}},[]);let y=!!l;return"minimal"===e?(0,t.jsxs)("header",{className:"absolute top-0 w-full z-40",children:[(0,t.jsxs)("div",{className:"container mx-auto flex h-16 items-center justify-between px-3 sm:px-4",children:[(0,t.jsx)(g.default,{href:"/",className:"flex items-center gap-2 flex-shrink-0",children:(0,t.jsx)(b.default,{src:"/logo.png",alt:"FixWise Logo",width:180,height:60,className:"h-10 w-auto sm:h-12"})}),(0,t.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,t.jsx)(_.LanguageSwitcher,{}),(0,t.jsxs)("nav",{className:"hidden md:flex items-center gap-2",children:[(0,t.jsx)(g.default,{href:"/shops",children:(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",children:n.nav.shops})}),!d&&(y?(0,t.jsxs)(t.Fragment,{children:[u&&(0,t.jsx)(g.default,{href:"/shop/dashboard",children:(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",children:n.nav.dashboard})}),(0,t.jsx)(g.default,{href:"/user/diagnosis-history",children:(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",children:n.nav.history})}),(0,t.jsx)(C.LogoutButton,{})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.default,{href:"/auth/login",children:(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",children:n.nav.login})}),(0,t.jsx)(g.default,{href:"/auth/sign-up",children:(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",children:n.nav.signUp})})]}))]}),(0,t.jsx)(a.Button,{ref:v,variant:"ghost",size:"icon",className:"md:hidden",onClick:e=>{e.stopPropagation(),p(!h)},"aria-label":h?"Close menu":"Open menu",children:h?(0,t.jsx)(m.X,{className:"h-5 w-5"}):(0,t.jsx)(S.Menu,{className:"h-5 w-5"})})]})]}),h&&(0,t.jsx)("div",{ref:x,className:"absolute top-16 left-0 right-0 bg-background border-b shadow-lg md:hidden z-50",children:(0,t.jsxs)("nav",{className:"container mx-auto px-4 py-4 flex flex-col gap-2",children:[(0,t.jsx)(g.default,{href:"/shops",onClick:()=>p(!1),children:(0,t.jsx)(a.Button,{variant:"ghost",className:"w-full justify-start",children:n.nav.shops})}),!d&&(y?(0,t.jsxs)(t.Fragment,{children:[u&&(0,t.jsx)(g.default,{href:"/shop/dashboard",onClick:()=>p(!1),children:(0,t.jsx)(a.Button,{variant:"ghost",className:"w-full justify-start",children:n.nav.dashboard})}),(0,t.jsx)(g.default,{href:"/user/diagnosis-history",onClick:()=>p(!1),children:(0,t.jsx)(a.Button,{variant:"ghost",className:"w-full justify-start",children:n.nav.history})}),(0,t.jsx)("div",{className:"pt-2 border-t",children:(0,t.jsx)(C.LogoutButton,{variant:"full"})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.default,{href:"/auth/login",onClick:()=>p(!1),children:(0,t.jsx)(a.Button,{variant:"ghost",className:"w-full justify-start",children:n.nav.login})}),(0,t.jsx)(g.default,{href:"/auth/sign-up",onClick:()=>p(!1),children:(0,t.jsx)(a.Button,{variant:"outline",className:"w-full justify-start",children:n.nav.signUp})})]}))]})})]}):(0,t.jsxs)("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 relative z-40",children:[(0,t.jsxs)("div",{className:"container mx-auto flex h-16 items-center justify-between px-3 sm:px-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4",children:[s&&i&&(0,t.jsxs)(a.Button,{variant:"ghost",size:"sm",onClick:i,className:"gap-2 hidden sm:flex",children:[(0,t.jsx)(k.ArrowLeft,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden md:inline",children:n.common.back})]}),(0,t.jsx)(g.default,{href:"/",className:"flex items-center gap-2 flex-shrink-0",children:(0,t.jsx)(b.default,{src:"/logo.png",alt:"FixWise Logo",width:180,height:60,className:"h-10 w-auto sm:h-12"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2 lg:gap-4",children:[(0,t.jsx)(_.LanguageSwitcher,{}),(0,t.jsxs)("nav",{className:"hidden lg:flex items-center gap-2",children:[(0,t.jsx)(g.default,{href:"/",children:(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",children:n.nav.home})}),(0,t.jsx)(g.default,{href:"/shops",children:(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",children:n.nav.shops})}),!d&&(y?(0,t.jsxs)(t.Fragment,{children:[u&&(0,t.jsx)(g.default,{href:"/shop/dashboard",children:(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",children:n.nav.dashboard})}),(0,t.jsx)(g.default,{href:"/user/diagnosis-history",children:(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",children:n.nav.history})}),(0,t.jsx)(C.LogoutButton,{})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.default,{href:"/auth/login",children:(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",children:n.nav.login})}),(0,t.jsx)(g.default,{href:"/auth/sign-up",children:(0,t.jsx)(a.Button,{variant:"outline",size:"sm",children:n.nav.signUp})})]}))]}),(0,t.jsx)(a.Button,{ref:v,variant:"ghost",size:"icon",className:"lg:hidden",onClick:e=>{e.stopPropagation(),p(!h)},"aria-label":h?"Close menu":"Open menu",children:h?(0,t.jsx)(m.X,{className:"h-5 w-5"}):(0,t.jsx)(S.Menu,{className:"h-5 w-5"})})]})]}),h&&(0,t.jsx)("div",{ref:x,className:"absolute top-16 left-0 right-0 bg-background border-b shadow-lg lg:hidden z-50",children:(0,t.jsxs)("nav",{className:"container mx-auto px-4 py-4 flex flex-col gap-2",children:[(0,t.jsx)(g.default,{href:"/",onClick:()=>p(!1),children:(0,t.jsx)(a.Button,{variant:"ghost",className:"w-full justify-start",children:n.nav.home})}),(0,t.jsx)(g.default,{href:"/shops",onClick:()=>p(!1),children:(0,t.jsx)(a.Button,{variant:"ghost",className:"w-full justify-start",children:n.nav.shops})}),!d&&(y?(0,t.jsxs)(t.Fragment,{children:[u&&(0,t.jsx)(g.default,{href:"/shop/dashboard",onClick:()=>p(!1),children:(0,t.jsx)(a.Button,{variant:"ghost",className:"w-full justify-start",children:n.nav.dashboard})}),(0,t.jsx)(g.default,{href:"/user/diagnosis-history",onClick:()=>p(!1),children:(0,t.jsx)(a.Button,{variant:"ghost",className:"w-full justify-start",children:n.nav.history})}),(0,t.jsx)("div",{className:"pt-2 border-t",children:(0,t.jsx)(C.LogoutButton,{})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.default,{href:"/auth/login",onClick:()=>p(!1),children:(0,t.jsx)(a.Button,{variant:"ghost",className:"w-full justify-start",children:n.nav.login})}),(0,t.jsx)(g.default,{href:"/auth/sign-up",onClick:()=>p(!1),children:(0,t.jsx)(a.Button,{variant:"outline",className:"w-full justify-start",children:n.nav.signUp})})]}))]})})]})}function P({shops:e,diagnosis:m,repairComponent:x}){let{t:b}=(0,E.useI18n)(),[N,C]=(0,r.useState)(""),[k,S]=(0,r.useState)(null),[_,P]=(0,r.useState)(null),[z,O]=(0,r.useState)(null),[L,T]=(0,r.useState)(!1),[R,B]=(0,r.useState)(e),I=(0,w.useRouter)();(0,r.useEffect)(()=>{A()},[]),(0,r.useEffect)(()=>{if(z){let t=e.map(e=>{if(e.latitude&&e.longitude){var t,r,s,a;let i,n,l,o=(t=z.lat,r=z.lng,s=e.latitude,a=e.longitude,i=y(s-t),n=y(a-r),6371*(2*Math.atan2(Math.sqrt(l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(y(t))*Math.cos(y(s))*Math.sin(n/2)*Math.sin(n/2)),Math.sqrt(1-l))));return{...e,distance:o}}return e});t.sort((e,t)=>void 0===e.distance?1:void 0===t.distance?-1:e.distance-t.distance),B(t)}else B(e)},[z,e]);let A=()=>{navigator.geolocation?(T(!0),navigator.geolocation.getCurrentPosition(e=>{O({lat:e.coords.latitude,lng:e.coords.longitude}),T(!1)},e=>{console.error("Error getting location:",e),T(!1)})):alert(b.shops.locationNotSupported)},$=R.filter(e=>{let t=N.toLowerCase();return e.name.toLowerCase().includes(t)||e.address.toLowerCase().includes(t)||e.expertise.some(e=>e.toLowerCase().includes(t))}),D=async e=>{if(!m)return void alert(b.shops.completeDiagnosisFirst);console.log("[v0] Contacting shop - diagnosis:",m.id,"shop:",e);try{let t=await fetch("/api/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({diagnosisId:m.id,shopId:e})}),r=await t.json();if(console.log("[v0] Lead creation response:",r),!t.ok)throw Error(r.error||"Failed to create lead");alert(b.shops.contactShop+" - "+b.common.success)}catch(e){console.error("[v0] Error creating lead:",e),alert(`${b.shops.contactShop} - ${e instanceof Error?e.message:b.common.error}`)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)(M,{showBackButton:!0,onBack:()=>I.push("/")}),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[m&&(0,t.jsxs)(s.Card,{className:"mb-6 border-primary/20 bg-primary/5",children:[(0,t.jsxs)(s.CardHeader,{children:[(0,t.jsx)(s.CardTitle,{className:"text-lg",children:b.diagnosis.title}),(0,t.jsx)(s.CardDescription,{children:m.ai_response.probable_issue})]}),(0,t.jsxs)(s.CardContent,{children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[b.diagnosis.estimatedCost,": ",(0,t.jsx)("span",{className:"font-semibold",children:m.estimated_cost})]}),x&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:[b.shops.findShops," - ",(0,t.jsx)("span",{className:"font-semibold",children:x})]})]})]}),x&&0===$.length&&(0,t.jsxs)(j.Alert,{className:"mb-6",children:[(0,t.jsx)(p.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)(j.AlertTitle,{children:b.shops.noShops}),(0,t.jsxs)(j.AlertDescription,{children:[b.shops.noShops," - ",x,". ",(0,t.jsx)(g.default,{href:"/shops",className:"underline font-semibold",children:b.shops.title})]})]}),(0,t.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"mb-2 text-3xl font-bold",children:b.shops.findShops}),(0,t.jsx)("p",{className:"text-muted-foreground",children:b.shops.findShops})]}),(0,t.jsxs)(a.Button,{variant:"outline",onClick:A,disabled:L,className:"gap-2 bg-transparent",children:[L?(0,t.jsx)(h.Loader2,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(f,{className:"h-4 w-4"}),L?b.shops.loadingLocation:z?b.common.edit:b.shops.getDirections]})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(n.Input,{placeholder:b.shops.searchPlaceholder,value:N,onChange:e=>C(e.target.value),className:"pl-10"})]})}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,t.jsx)("div",{className:"space-y-4 order-2 lg:order-1",children:0===$.length?(0,t.jsx)(s.Card,{children:(0,t.jsx)(s.CardContent,{className:"py-8 text-center",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:b.shops.noShops})})}):$.map(e=>{var r;return(0,t.jsxs)(s.Card,{className:`cursor-pointer transition-colors hover:border-primary ${k?.id===e.id?"border-primary":""} ${_?.id===e.id?"border-primary/50 shadow-md":""}`,onClick:()=>S(e),onMouseEnter:()=>P(e),onMouseLeave:()=>P(null),children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(g.default,{href:`/shops/${e.id}`,onClick:e=>e.stopPropagation(),children:(0,t.jsx)(s.CardTitle,{className:"hover:text-primary transition-colors",children:e.name})}),(0,t.jsxs)(s.CardDescription,{className:"mt-1 flex items-center gap-1",children:[(0,t.jsx)(l.MapPin,{className:"h-3 w-3"}),e.address,void 0!==e.distance&&(0,t.jsxs)("span",{className:"ml-2 font-semibold text-primary",children:["‚Ä¢ ",(r=e.distance)<1?`${Math.round(1e3*r)}m`:`${r.toFixed(1)}km`]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(c.Star,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),(0,t.jsx)("span",{className:"font-semibold",children:e.rating.toFixed(1)})]})]})}),(0,t.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.expertise.map(e=>(0,t.jsx)(i.Badge,{variant:"secondary",children:e},e))}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[e.phone&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(o.Phone,{className:"h-4 w-4"}),e.phone]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(d.Mail,{className:"h-4 w-4"}),e.email]}),e.price_range&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"font-semibold",children:[b.shops.priceRange,":"]}),(0,t.jsx)("span",{className:"text-muted-foreground",children:e.price_range})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(g.default,{href:`/shops/${e.id}`,className:"flex-1",onClick:e=>e.stopPropagation(),children:(0,t.jsxs)(a.Button,{variant:"outline",className:"w-full bg-transparent",children:[b.shops.viewDetails," & ",b.shops.reviews]})}),m&&(0,t.jsx)(a.Button,{className:"flex-1",onClick:t=>{t.stopPropagation(),D(e.id)},children:b.shops.contactShop})]})]})]},e.id)})}),(0,t.jsx)("div",{className:"order-1 lg:order-2 sticky top-4 h-[400px] lg:h-[calc(100vh-8rem)] min-h-[400px] z-10",children:(0,t.jsx)(v,{shops:$,selectedShop:k,hoveredShop:_,onSelectShop:S,userLocation:z})})]})]})]})}e.s(["ShopDirectory",()=>P],24696)}]);